<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<flowtran id="iacuck" longname="内部账转客户账复核" kind="3" package="cn.sunline.ltts.busi.intran.trans" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[内部账转客户账复核]]></description>
    <interface package="cn.sunline.ltts.busi.intran.trans.intf">
        <input packMode="true">
            <field id="acstno" type="BaseType.U_SEQUNO" required="false" multi="false" array="false" longname="套号" ref="InDict.inac.acstno"/>
            <field id="otacno" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="转出账号"/>
            <field id="otacna" type="BaseType.U_ACCTNA" required="false" multi="false" array="false" longname="转出户名"/>
            <field id="otamcd" type="BaseEnumType.E_AMNTCD" required="false" multi="false" array="false" longname="转出借贷标志"/>
            <field id="crcycd" type="BaseType.U_CRCYCD" required="false" multi="false" array="false" longname="币种" ref="BaseDict.Comm.crcycd"/>
            <field id="tranam" type="BaseType.U_HAPPBL" required="false" multi="false" array="false" longname="发生额"/>
            <field id="inacno" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="转入账号"/>
            <field id="inacna" type="BaseType.U_ACCTNA" required="false" multi="false" array="false" longname="转入户名"/>
            <field id="acctbr" type="BaseType.U_BRCHNO" required="false" multi="false" array="false" longname="账户机构"/>
            <field id="inamcd" type="BaseEnumType.E_AMNTCD" required="false" multi="false" array="false" longname="转入借贷标志"/>
            <field id="csextg" type="BaseEnumType.E_CSEXTG" required="false" multi="false" array="false" longname="钞汇标志" ref="InDict.inac.csextg"/>
            <field id="payatp" type="InEnumType.E_PAYATP" required="false" multi="false" array="false" longname="挂销账标志" ref="InDict.inac.payatp"/>
            <field id="smrytx" type="BaseType.U_SHORDS" required="false" multi="false" array="false" longname="摘要" ref="InDict.inac.smrytx"/>
            <field id="cntsys" type="InEnumType.E_CNTSYS" required="false" multi="false" array="false" longname="是否跨系统转账" ref="InDict.inac.cntsys"/>
            <field id="paydListInfo" type="InAcctTranOut.PaydDetail" required="false" multi="true" array="false" longname="销账明细"/>
            <field id="payaListInfo" type="InAcctTranOut.PayaDetail" required="false" multi="true" array="false" longname="挂账明细"/>
        </input>
        <output asParm="true" packMode="false"/>
        <property packMode="true">
            <field id="trantp" type="CaEnumType.E_CKTRTP" required="false" fixed="#dict.CaEnumType.E_CKTRTP().DBCCR" multi="false" array="false" longname="交易类型"/>
            <field id="isable" type="CaEnumType.E_CKTRIF" required="false" multi="false" array="false" longname="是否允许转账"/>
            <field id="custnm" type="BaseType.U_CUSTNA" required="false" multi="false" array="false" longname="客户名称"/>
            <field id="remark" type="BaseType.U_SMRYDS" required="false" multi="false" array="false" longname="描述"/>
        </property>
        <printer packMode="false"/>
    </interface>
    <flow>
        <method method="befroeCheck" id="befroeCheck" longname="存档前检查" desc="存档前检查"/>
        <case id="CntsysCheck" longname="跨系统判断" desc="跨系统判断">
            <when id="isThisSys" test="cntsys == #dict.InEnumType.E_CNTSYS()._1" longname="本系统" desc="本系统">
                <!-- <method method="custIrregular" id="custIrregular" longname="客户账号状态判断" desc="客户账号状态判断"/> -->
                <service serviceName="IoCaSrvGenEAccountInfo.TraninCheck" id="TraninCheck" longname="客户是否可转入状态检查" desc="客户是否可转入状态检查">
		           <in_mappings by_interface="true">
		               <mapping src="inacna" dest="inacna" by_interface="true" on_top="true"/>
		               <mapping src="inacno" dest="inacno" by_interface="true" on_top="true"/>
		           </in_mappings>
		           <out_mappings />
		        </service>
                <service serviceName="IoInAcctTranOut.ChkIacuck" id="ChkIacuck" longname="内部账转客户账复核" desc="内部账转客户账复核">
                    <in_mappings by_interface="true">
                        <mapping src="acctbr" dest="acctbr" by_interface="true" on_top="true"/>
                        <mapping src="acstno" dest="acstno" by_interface="true" on_top="true"/>
                        <mapping src="cntsys" dest="cntsys" by_interface="true" on_top="true"/>
                        <mapping src="crcycd" dest="crcycd" by_interface="true" on_top="true"/>
                        <mapping src="csextg" dest="csextg" by_interface="true" on_top="true"/>
                        <mapping src="inacna" dest="inacna" by_interface="true" on_top="true"/>
                        <mapping src="inacno" dest="inacno" by_interface="true" on_top="true"/>
                        <mapping src="inamcd" dest="inamcd" by_interface="true" on_top="true"/>
                        <mapping src="otacna" dest="otacna" by_interface="true" on_top="true"/>
                        <mapping src="otacno" dest="otacno" by_interface="true" on_top="true"/>
                        <mapping src="otamcd" dest="otamcd" by_interface="true" on_top="true"/>
                        <mapping src="payaListInfo" dest="payaListInfo" by_interface="true" on_top="true"/>
                        <mapping src="payatp" dest="payatp" by_interface="true" on_top="true"/>
                        <mapping src="paydListInfo" dest="paydListInfo" by_interface="true" on_top="true"/>
                        <mapping src="smrytx" dest="smrytx" by_interface="true" on_top="true"/>
                        <mapping src="tranam" dest="tranam" by_interface="true" on_top="true"/>
                    </in_mappings>
                    <out_mappings by_interface="true"/>
                </service>
            </when>
            <when id="isOverSys" test="cntsys == #dict.InEnumType.E_CNTSYS()._0" longname="跨系统" desc="跨系统">
                <service serviceName="IoInAcctTranOut.ChkIacuck" id="ChkIacuck" longname="内部账转客户账复核" desc="内部账转客户账维护">
                    <in_mappings by_interface="true">
                        <mapping src="acctbr" dest="acctbr" by_interface="true" on_top="true"/>
                        <mapping src="acstno" dest="acstno" by_interface="true" on_top="true"/>
                        <mapping src="cntsys" dest="cntsys" by_interface="true" on_top="true"/>
                        <mapping src="crcycd" dest="crcycd" by_interface="true" on_top="true"/>
                        <mapping src="csextg" dest="csextg" by_interface="true" on_top="true"/>
                        <mapping src="inacna" dest="inacna" by_interface="true" on_top="true"/>
                        <mapping src="inacno" dest="inacno" by_interface="true" on_top="true"/>
                        <mapping src="inamcd" dest="inamcd" by_interface="true" on_top="true"/>
                        <mapping src="otacna" dest="otacna" by_interface="true" on_top="true"/>
                        <mapping src="otacno" dest="otacno" by_interface="true" on_top="true"/>
                        <mapping src="otamcd" dest="otamcd" by_interface="true" on_top="true"/>
                        <mapping src="payaListInfo" dest="payaListInfo" by_interface="true" on_top="true"/>
                        <mapping src="payatp" dest="payatp" by_interface="true" on_top="true"/>
                        <mapping src="paydListInfo" dest="paydListInfo" by_interface="true" on_top="true"/>
                        <mapping src="smrytx" dest="smrytx" by_interface="true" on_top="true"/>
                        <mapping src="tranam" dest="tranam" by_interface="true" on_top="true"/>
                    </in_mappings>
                    <out_mappings by_interface="true"/>
                </service>
            </when>
        </case>
    </flow>
    <outMapping/>
    <propertyToPrinterMapping/>
    <outToPrinterMapping/>
</flowtran>
