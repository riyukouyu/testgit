<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<flowtran id="disabl" longname="停用转久悬" kind="2" package="cn.sunline.ltts.busi.catran.trans" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[停用转久悬]]></description>
    <interface package="cn.sunline.ltts.busi.catran.trans.intf">
        <input packMode="true">
            <field id="cardno" type="BaseType.U_CARDNO" required="false" multi="false" array="false" longname="电子账号"/>
            <field id="apprfg" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否征得被冒用人同意"/>
            <field id="apprwy" type="CaEnumType.E_APPRWY" required="false" multi="false" array="false" longname="征求方式"/>
            <field id="propam" type="BaseType.U_TRANAM" required="false" multi="false" array="false" longname="转久悬金额"/>
            <field id="remark" type="BaseType.U_SHORTS" required="false" multi="false" array="false" longname="备注" ref="DpDict.Froz.remark"/>
        </input>
        <output asParm="true" packMode="true"/>
        <property packMode="true">
            <field id="cplClsAcctIn" type="DpProdSvc.ClsAcctIn" required="false" multi="false" array="false" longname="电子账户销户输入参数"/>
            <field id="custac" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="电子账号"/>
            <field id="accatp" type="BaseEnumType.E_ACCATP" required="false" multi="false" array="false" longname="账户类型"/>
            <field id="custid" type="BaseType.U_CUSTID" required="false" multi="false" array="false" longname="用户ID" ref="BaseDict.Comm.custid"/>
            <field id="idtftp" type="BaseEnumType.E_IDTFTP" required="false" multi="false" array="false" longname="证件类型" ref="DpDict.Acct.idtftp"/>
            <field id="idtfno" type="BaseType.U_IDTFNO" required="false" multi="false" array="false" longname="证件号码" ref="DpDict.Acct.idtfno"/>
            <field id="custna" type="BaseType.U_CUSTNA" required="false" multi="false" array="false" longname="客户名称"/>
            <field id="crcycd" type="BaseType.U_CRCYCD" required="false" multi="false" array="false" longname="币种"/>
            <field id="csextg" type="BaseEnumType.E_CSEXTG" required="false" multi="false" array="false" longname="钞汇标志"/>
            <field id="smrycd" type="BaseType.U_SMRYCD" required="false" enums="ZJ" fixed="'ZJ'" multi="false" array="false" longname="摘要代码" ref="BaseDict.Comm.smrycd"/>
            <field id="tractp" type="DpEnumType.E_CLSATP" required="true" enums="INACCT" fixed="'2'" multi="false" array="false" longname="转入账户类型"/>
            <field id="tobrch" type="BaseType.U_BRCHNO" required="false" multi="false" array="false" longname="对方机构号"/>
            <field id="acbrch" type="BaseType.U_BRCHNO" required="false" multi="false" array="false" longname="内部户机构号"/>
            <field id="acbrna" type="BaseType.U_ACCTNA" required="false" multi="false" array="false" longname="内部户名称"/>
            <field id="acbrno" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="内部户账号"/>
            <field id="amntcd" type="BaseEnumType.E_AMNTCD" required="false" multi="false" array="false" longname="借贷标志"/>
            <field id="busino" type="BaseType.U_BUSINO" required="false" multi="false" array="false" longname="业务代码"/>
            <field id="inptsr" type="InEnumType.E_INPTSR" required="false" multi="false" array="false" longname="交易来源"/>
            <field id="trantp" type="BaseEnumType.E_TRANTP" required="false" multi="false" array="false" longname="内部户交易类型"/>
            <field id="closam" type="BaseType.U_TRANAM" required="false" multi="false" array="false" longname="销户金额"/>
            <field id="signno" type="BaseType.U_LONGIN" required="false" multi="false" array="false" longname="签约号"/>
            <field id="issign" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否签约"/>
            <field id="acalno" type="BaseType.U_CHAR30" required="false" multi="false" array="false" longname="账户别名" ref="CaDict.Eacct.acalno"/>
            <field id="inspfg" type="BaseEnumType.E_INSPFG" required="false" multi="false" array="false" longname="黑名单类型"/>
        </property>
        <printer packMode="false"/>
    </interface>
    <flow>
        <method method="prcDisablTransBefore" id="prcDisablTransBefore" longname="停用转久悬交易前处理" desc="停用转久悬交易前处理"/>
        <service serviceName="IoCaSevQryAccout.IoCaQryInwadeInfo" id="ioCaQryInwadeInfo" longname="恐怖名单检查">
            <in_mappings by_interface="true">
                <mapping src="cardno" dest="cardno" by_interface="true" on_top="true"/>
                <mapping src="custna" dest="custna" by_interface="true" on_top="true"/>
                <mapping src="idtfno" dest="idtfno" by_interface="true" on_top="true"/>
                <mapping src="idtftp" dest="idtftp" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
        <service mappingToProperty="true" serviceName="IoCaSevQryAccout.IoCaQryInacInfo" id="ioCaQryInacInfo" longname="涉案可疑查询">
            <in_mappings by_interface="true">
                <mapping src="cardno" dest="cardno" by_interface="true" on_top="true"/>
                <mapping src="custna" dest="custna" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true">
                <mapping src="inspfg" dest="inspfg" by_interface="true" on_top="true"/>
            </out_mappings>
        </service>
        <method method="qryinac" id="qryinac" longname="涉案可疑校验"/>
        <service mappingToProperty="false" serviceName="IoCaSrvGenEAccountInfo.IoCaCkdsac" id="ioCaCkdsac" longname="停用转久悬前检查状态和状态字">
            <in_mappings by_interface="true">
                <mapping src="cardno" dest="cardno" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
        <service serviceName="IoCaCloseSvc.IoCaChkOther" id="IoCaChkOther" longname="销户前检查贵金属、贷款等">
            <in_mappings by_interface="true"/>
            <out_mappings by_interface="true"/>
        </service>
        <service serviceName="IoCaCloseSvc.IoCaChkFina" id="IoCaChkFina" longname="销户前检查是否有未赎回理财">
            <in_mappings by_interface="true">
                <mapping src="custac" dest="custac" desc="电子账号" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
        <service mappingToProperty="true" serviceName="DpAcctSvcType.CloseSubAcct" id="CloseSubAcct" longname="电子账户负债账户销户服务">
            <in_mappings by_interface="true">
                <mapping src="accatp" dest="clsin.accatp" desc="账户分类" by_interface="true" on_top="true"/>
                <mapping src="cardno" dest="clsin.cardno" desc="卡号" by_interface="true" on_top="true"/>
                <mapping src="tractp" dest="clsin.clsatp" desc="转入账户类型" by_interface="true" on_top="true"/>
                <mapping src="custac" dest="clsin.custac" desc="电子账号" by_interface="true" on_top="true"/>
                <mapping src="acbrno" dest="clsin.toacct" desc="转入账号" by_interface="true" on_top="true"/>
                <mapping src="acbrch" dest="clsin.tobrch" desc="转入账户机构" by_interface="true" on_top="true"/>
                <mapping src="acbrna" dest="clsin.toname" desc="转入账户名称" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="false"/>
        </service>
        <service mappingToProperty="true" serviceName="DpProdSvcType.IoDpCloseCurAcc" id="ioDpCloseCurAcc" longname="个人活期结算户销户" desc="个人活期结算户，钱包账户销户结息">
            <in_mappings by_interface="true">
                <mapping src="custac" dest="clsin.custac" desc="电子账户" by_interface="true" on_top="true"/>
                <mapping src="smrycd" dest="clsin.smrycd" desc="摘要码" by_interface="true" on_top="true"/>
                <mapping src="acbrno" dest="clsin.toacct" desc="内部户账号" by_interface="true" on_top="true"/>
                <mapping src="acbrna" dest="clsin.toname" desc="内部户名称" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="false">
                <mapping src="closot.settbl" dest="closam" desc="销户金额" by_interface="true" on_top="true"/>
            </out_mappings>
        </service>
        <service serviceName="IoInAccount.IoInAccrAdm" id="IoInAccrAdm" test="closam &gt; @java.math.BigDecimal@ZERO" longname="内部户贷方服务定义（外调）" desc="内部户贷方记账服务">
            <in_mappings by_interface="true">
                <mapping src="acbrch" dest="input.acbrch" by_interface="true" on_top="true"/>
                <mapping src="busino" dest="input.busino" by_interface="true" on_top="true"/>
                <mapping src="crcycd" dest="input.crcycd" by_interface="true" on_top="true"/>
                <mapping src="smrycd" dest="input.smrycd" by_interface="true" on_top="true"/>
                <mapping src="cardno" dest="input.toacct" by_interface="true" on_top="true"/>
                <mapping src="custna" dest="input.toacna" by_interface="true" on_top="true"/>
                <mapping src="closam" dest="input.tranam" by_interface="true" on_top="true"/>
                <mapping src="trantp" dest="input.trantp" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
        <service serviceName="IoCaSrvGenEAccountInfo.CustUnSign" id="CustUnSign" test="issign == #dict.BaseEnumType.E_YES___().YES" longname="活期解约服务">
            <in_mappings by_interface="true">
                <mapping src="#dict.BaseEnumType.E_YES___().YES" dest="isclos" desc="子账户是否需要销户" by_interface="true" on_top="true"/>
                <mapping src="signno" dest="signno" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
        <method method="prcDisablTransAfter" id="prcDisablTransAfter" longname="停用转久悬交易后处理" desc="停用转久悬交易后处理"/>
        <method method="sendCloseInfoMsg" id="sendCloseInfoMsg" longname="销户信息通知" desc="销户信息通知"/>
    </flow>
    <outMapping/>
    <propertyToPrinterMapping/>
    <outToPrinterMapping/>
</flowtran>
