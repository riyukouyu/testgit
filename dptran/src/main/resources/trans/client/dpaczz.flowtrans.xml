<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<flowtran id="dpaczz" longname="电子账户一借多贷服务" kind="3" package="cn.sunline.ltts.busi.dptran.trans.client" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <interface package="cn.sunline.ltts.busi.dptran.trans.client.intf">
        <input packMode="true">
            <field id="crcycd" type="BaseType.U_CRCYCD" required="false" multi="false" array="false" longname="币种"/>
            <field id="csextg" type="BaseEnumType.E_CSEXTG" required="false" multi="false" array="false" longname="钞汇标志"/>
            <field id="tranam" type="BaseType.U_TRANAM" required="false" multi="false" array="false" longname="交易金额"/>
            <field id="acctno" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="负债账号" ref="DpDict.Acct.acctno"/>
            <field id="transfe" type="DpProdSvc.IoDpTranfeInfo" required="false" multi="false" array="false" longname="账户信息"/>
        </input>
        <output asParm="true" packMode="true">
            <field id="mntrsq" type="BaseType.U_SEQUNO" required="false" multi="false" array="false" longname="主交易流水"/>
            <field id="mntrdt" type="BaseType.U_DATE08" required="false" multi="false" array="false" longname="主交易日期"/>
            <field id="mntrtm" type="BaseType.U_TRTMCH" required="false" multi="false" array="false" longname="主交易时间"/>
        </output>
        <property packMode="true">
            <field id="issucc" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="验证流水是否已存在"/>
            <field id="oppacc" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="对手账号"/>
            <field id="oppanm" type="BaseType.U_CUSTNA" required="false" multi="false" array="false" longname="对手户名"/>
            <field id="chgflg" type="PbEnumType.E_CHGFLG" required="false" multi="false" array="false" longname="记账标志"/>
            <field id="ischrg" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否收费"/>
            <field id="otcsac" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="转出方电子账号ID"/>
            <field id="otchld" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="转出方子账号"/>
            <field id="otname" type="BaseType.U_CUSTNA" required="false" multi="false" array="false" longname="转出方户名"/>
            <field id="otctno" type="BaseType.U_CUSTNO" required="false" multi="false" array="false" longname="转出方客户号"/>
            <field id="otcorp" type="BaseType.U_CORPNO" required="false" multi="false" array="false" longname="转出方法人代码"/>
            <field id="incorp" type="BaseType.U_CORPNO" required="false" multi="false" array="false" longname="转入方法人代码"/>
            <field id="incsac" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="转入方电子账号ID"/>
            <field id="inchld" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="转入方子账号"/>
            <field id="isinac" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否内部账户"/>
            <field id="inctno" type="BaseType.U_CUSTNO" required="false" multi="false" array="false" longname="转入方客户号"/>
            <field id="isspan" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否跨法人"/>
            <field id="iscler" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否已清算"/>
            <field id="linkno" type="BaseType.U_SHORDS" required="false" multi="false" array="false" longname="连笔号"/>
            <field id="auacfg" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="存取标志"/>
            <field id="realam" type="BaseType.U_TRANAM" required="false" multi="false" array="false" longname="实际金额"/>
            <field id="busisq" type="BaseType.U_SEQUNO" required="false" multi="false" array="false" longname="业务跟踪编号"/>
            <field id="servtp" type="MsType.U_CHANNEL" required="false" multi="false" array="false" longname="交易渠道"/>
            <field id="servsq" type="BaseType.U_SEQUNO" required="false" multi="false" array="false" longname="渠道流水"/>
            <field id="servdt" type="BaseType.U_DATE08" required="false" multi="false" array="false" longname="渠道日期"/>
            <field id="iscase" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否检查涉案账户"/>
            <field id="isdubs" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="是否检查可疑账户"/>
            <field id="prcscd" type="BaseType.U_PRCSCD" required="false" multi="false" array="false" longname="交易码"/>
            <field id="ioflag" type="BaseType.U_CHAR01" required="false" multi="false" array="false" longname="出入金标志"/>
            <field id="acbrno" type="BaseType.U_ACCTNO" required="false" multi="false" array="false" longname="内部户帐号"/>
            <field id="acbrna" type="BaseType.U_CHAR50" required="false" multi="false" array="false" longname="内部户帐号名称"/>
            <field id="dcmtno" type="BaseType.U_DCMTNO" required="false" multi="false" array="false" longname="凭证类型" ref="InDict.inac.dcmtno"/>
            <field id="dcmttp" type="BaseType.U_DCMTTP" required="false" multi="false" array="false" longname="凭证号码" ref="InDict.inac.dcmttp"/>
            <field id="amntcd" type="BaseEnumType.E_AMNTCD" required="false" multi="false" array="false" longname="借贷标志" ref="BaseDict.Comm.amntcd"/>
            <field id="trantp" type="BaseEnumType.E_TRANTP" required="false" multi="false" array="false" longname="交易类型" ref="InDict.inac.trantp"/>
            <field id="acbrch" type="BaseType.U_BRCHNO" required="false" multi="false" array="false" longname="账户机构"/>
            <field id="corrtg" type="InEnumType.E_CORRTG" required="false" multi="false" array="false" longname="冲账标志"/>
            <field id="ovcntl" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="强制透支标志"/>
            <field id="busino" type="BaseType.U_BUSINO" required="false" multi="false" array="false" longname="业务编码IA"/>
            <field id="dscrtx" type="BaseType.U_CHAR200" required="false" multi="false" array="false" longname="描述"/>
            <field id="inptsr" type="InEnumType.E_INPTSR" required="false" multi="false" array="false" longname="交易来源类别"/>
            <field id="busidn" type="InEnumType.E_BLNCDN" required="false" multi="false" array="false" longname="业务代码方向"/>
            <field id="smrycd" type="BaseType.U_SMRYCD" required="false" multi="false" array="false" longname="摘要代码" ref="BaseDict.Comm.smrycd"/>
            <field id="sttsdt" type="BaseType.U_DATE08" required="false" multi="false" array="false" longname="冲账日期"/>
            <field id="sttssq" type="BaseType.U_SEQUNO" required="false" multi="false" array="false" longname="冲账流水"/>
            <field id="autotg" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="系统柜员标志"/>
            <field id="quotfs" type="BaseEnumType.E_YES___" required="false" multi="false" array="false" longname="金额大于零标志"/>
            <field id="payadetail" type="InacTransComplex.IaPayaDetail" required="false" multi="false" array="false" longname="内部户交易挂账明细输入"/>
            <field id="payddetail" type="InacTransComplex.IaPaydDetail" required="false" multi="false" array="false" longname="内部户交易销账明细输入"/>
        </property>
        <printer packMode="false"/>
    </interface>
    <flow>
        <method method="dealBeforeTrans" id="dealBeforeTrans" longname="交易前处理"/>
        <service serviceName="DpAcctSvcType.openAcctAndTranfe" id="openAcctAndTranfe" longname="开户及入账服务">
            <in_mappings by_interface="true">
                <mapping src="transfe.acctna" dest="tranfe.acctna" by_interface="true" on_top="true"/>
                <mapping src="crcycd" dest="tranfe.crcycd" by_interface="true" on_top="true"/>
                <mapping src="transfe.depttm" dest="tranfe.depttm" by_interface="true" on_top="true"/>
                <mapping src="transfe.opintr" dest="tranfe.opintr" by_interface="true" on_top="true"/>
                <mapping src="transfe.prodcd" dest="tranfe.prodcd" by_interface="true" on_top="true"/>
                <mapping src="transfe.toacct" dest="tranfe.toacct" by_interface="true" on_top="true"/>
                <mapping src="transfe.tranam" dest="tranfe.tranam" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
        <service serviceName="IoCheckBalance.CheckBalance" id="CheckBalance" longname="账务平衡性检查" desc="账务平衡性检查">
            <in_mappings by_interface="true">
                <mapping src="#run.trandt" dest="trandt" by_interface="true" on_top="true"/>
                <mapping src="#run.transq" dest="transq" by_interface="true" on_top="true"/>
            </in_mappings>
            <out_mappings by_interface="true"/>
        </service>
    </flow>
    <outMapping/>
    <propertyToPrinterMapping/>
    <outToPrinterMapping/>
</flowtran>
