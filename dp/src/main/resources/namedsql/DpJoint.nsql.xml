<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="DpJoint" longname="联名账户SQL" package="cn.sunline.ltts.busi.dp.namedsql" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <select cache="none" method="selectOne" type="sql" id="selAggregateAmountByTrandt" longname="根据日期查询汇总消费明细">
        <sql><![CDATA[select sum(tranam) aggram from knb_joint_iobl where platno = #platno# and trandt = #trandt# and corpno = #corpno# and clerst = '1']]></sql>
        <sql type="oracle"><![CDATA[select sum(tranam) aggram from knb_joint_iobl where platno = #platno# and trandt = #trandt# and corpno = #corpno# and clerst = '1']]></sql>
        <sql type="mysql"><![CDATA[select sum(tranam) aggram from knb_joint_iobl where platno = #platno# and trandt = #trandt# and corpno = #corpno# and clerst = '1']]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="platno" jdbcType="VARCHAR" javaType="BaseType.U_CHAR10" mode="in" longname="平台编号" parameterType="condition"/>
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="java.math.BigDecimal"/>
    </select>
    <select cache="none" method="selectPage" type="sql" id="selKnbJointIoblList" longname="查询联名账户交易明细">
        <sql><![CDATA[select * from knb_joint_iobl where joinac = #joinac# and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select * from knb_joint_iobl where joinac = #joinac# and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select * from knb_joint_iobl where joinac = #joinac# and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="joinac" jdbcType="VARCHAR" javaType="BaseType.U_CHAR32" mode="in" longname="联名账户" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpJointType.IoDpKnbJointIoblInfo"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selKnbJointIoblcount" longname="查询联名账户交易明细">
        <sql><![CDATA[select count(*) from knb_joint_iobl where joinac = #joinac# and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select count(*) from knb_joint_iobl where joinac = #joinac# and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select count(*) from knb_joint_iobl where joinac = #joinac# and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="joinac" jdbcType="VARCHAR" javaType="BaseType.U_CHAR32" mode="in" longname="联名账户" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
    </select>
</sqls>
