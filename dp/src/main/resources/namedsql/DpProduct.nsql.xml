<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="DpProduct" longname="产品基础属性表命名sql" package="cn.sunline.ltts.busi.dp.namedsql" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[产品基础属性表命名sql]]></description>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppb" longname="统计产品基础属性表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="prodtx" jdbcType="VARCHAR" javaType="BaseType.U_SHORDS" mode="in" longname="产品名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodtx like  concat('%', #prodtx#, '%')]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodtx like  concat('%', #prodtx#, '%')]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppb" longname="分页查询产品基础属性列表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="prodtx" jdbcType="VARCHAR" javaType="BaseType.U_SHORDS" mode="in" longname="产品名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbInfo"/>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select u.corpno,u.prodcd,u.prodtx,u.pdmktx,u.efctdt,u.inefdt,u.pddpfg,u.prodtp,u.pdcrcy,u.brchfg,u.custfg,u.debttp,u.mginfg,u.prodst,u.presal from kup_dppb u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodtx like concat('%', #prodtx#, '%')]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select u.corpno,u.prodcd,u.prodtx,u.pdmktx,u.efctdt,u.inefdt,u.pddpfg,u.prodtp,u.pdcrcy,u.brchfg,u.custfg,u.debttp,u.mginfg,u.prodst,u.presal from kup_dppb u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodtx like '%'|| #prodtx#|| '%']]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbCust" longname="产品开户控制表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_cust u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_cust u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbCust" longname="分页查询产品开户控制列表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbCustInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select u.corpno,u.prodcd,u.crcycd,u.madtby,u.onlyfg,u.srdpam
 from kup_dppb_cust u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select u.corpno,u.prodcd,u.crcycd,u.madtby,u.onlyfg,u.srdpam
 from kup_dppb_cust u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbBrch" longname="统计产品机构控制表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_brch u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_brch u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selPageKupDppbBrch" longname="分页查询产品适用机构正式表信息">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbBrchAppOut"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select u.prodcd,u.brchno,h.brchna,u.efctdt,u.inefdt from kup_dppb_brch u , kub_brch h]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[u.brchno = h.brchno ]]></str>
                    <str type="Str"><![CDATA[u.prodcd=#prodcd# ]]></str>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select u.prodcd,u.brchno,h.brchna,u.efctdt,u.inefdt from kup_dppb_brch u , kub_brch h]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[u.brchno = h.brchno ]]></str>
                    <str type="Str"><![CDATA[u.prodcd=#prodcd# ]]></str>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select u.prodcd,u.brchno,h.brchna,u.efctdt,u.inefdt from kup_dppb_brch u , kub_brch h]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[u.brchno = h.brchno ]]></str>
                    <str type="Str"><![CDATA[u.prodcd=#prodcd# ]]></str>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selPageKupDppbBrchTemp" longname="分页查询产品适用机构临时表信息">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbBrchAppOut"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select u.prodcd,u.brchno,h.brchna,u.efctdt,u.inefdt from kup_dppb_brch_temp u , kub_brch h ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[u.brchno = h.brchno ]]></str>
                    <str type="Str"><![CDATA[u.prodcd=#prodcd# ]]></str>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select u.prodcd,u.brchno,h.brchna,u.efctdt,u.inefdt from kup_dppb_brch_temp u , kub_brch h ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[u.brchno = h.brchno ]]></str>
                    <str type="Str"><![CDATA[u.prodcd=#prodcd# ]]></str>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select u.prodcd,u.brchno,h.brchna,u.efctdt,u.inefdt from kup_dppb_brch_temp u , kub_brch h ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[u.brchno = h.brchno ]]></str>
                    <str type="Str"><![CDATA[u.prodcd=#prodcd# ]]></str>
                    <if test="brchno!=null &amp;&amp; brchno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.brchno=#brchno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbTerm" longname="产品存期控制表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="depttm" jdbcType="VARCHAR" javaType="BaseEnumType.E_TERMCD" mode="in" longname="存期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_term u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_term u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbTerm" longname="分页查询产品存期控制列表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="depttm" jdbcType="VARCHAR" javaType="BaseEnumType.E_TERMCD" mode="in" longname="存期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbTermInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select u.prodcd,u.crcycd,u.depttm,u.deptdy from kup_dppb_term u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select u.prodcd,u.crcycd,u.depttm,u.deptdy from kup_dppb_term u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbPost" longname="产品存期控制表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_post u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_post u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbPost" longname="分页查询产品存期控制列表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbPostInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select u.prodcd,u.crcycd,u.posttp,u.postwy,u.amntwy,u.miniam,u.maxiam,u.timewy,u.minitm,u.maxitm,u.detlfg,u.svrule from kup_dppb_post u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select u.prodcd,u.crcycd,u.posttp,u.postwy,u.amntwy,u.miniam,u.maxiam,u.timewy,u.minitm,u.maxitm,u.detlfg,u.svrule from kup_dppb_post u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbDraw" longname="产品支取控制表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_draw u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_draw u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbDraw" longname="分页查询-产品支取控制列表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbDrawInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_draw u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_draw u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbMatu" longname="产品到期控制表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_matu u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_matu u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbMatu" longname="分页查询-产品到期控制表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbMatuInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_matu u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_matu u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbDfintr" longname="产品违约支取利息定义记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="drintp" jdbcType="VARCHAR" javaType="DpEnumType.E_DRINTP" mode="in" longname="支取利息类型" parameterType="condition"/>
            <parameter property="ingpcd" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="利息组代码" parameterType="condition"/>
            <parameter property="intrtp" jdbcType="VARCHAR" javaType="DpEnumType.E_INTRTP" mode="in" longname="利息类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_dfir u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="drintp!=null" type="If">
                        <str type="Str"><![CDATA[u.drintp=#drintp#]]></str>
                    </if>
                    <if test="ingpcd!=null &amp;&amp; ingpcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.ingpcd=#ingpcd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_dfir u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="drintp!=null" type="If">
                        <str type="Str"><![CDATA[u.drintp=#drintp#]]></str>
                    </if>
                    <if test="ingpcd!=null &amp;&amp; ingpcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.ingpcd=#ingpcd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbDfintr" longname="分页查询-产品违约支取利息定义">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="drintp" jdbcType="VARCHAR" javaType="DpEnumType.E_DRINTP" mode="in" longname="支取利息类型" parameterType="condition"/>
            <parameter property="ingpcd" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="利息组代码" parameterType="condition"/>
            <parameter property="intrtp" jdbcType="VARCHAR" javaType="DpEnumType.E_INTRTP" mode="in" longname="利息类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbDfintrInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_dfir u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="drintp!=null" type="If">
                        <str type="Str"><![CDATA[u.drintp=#drintp#]]></str>
                    </if>
                    <if test="ingpcd!=null &amp;&amp; ingpcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.ingpcd=#ingpcd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_dfir u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="drintp!=null" type="If">
                        <str type="Str"><![CDATA[u.drintp=#drintp#]]></str>
                    </if>
                    <if test="ingpcd!=null &amp;&amp; ingpcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.ingpcd=#ingpcd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbPostPlan" longname="产品存入计划表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_post_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_post_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbPostPlan" longname="分页查询产品存入计划列表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbPostPlanInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_post_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_post_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbDrawPlan" longname="产品支取计划表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_draw_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_draw_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbDrawPlan" longname="分页查询产品支取计划表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbDrawPlanInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_draw_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_draw_plan u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbIntr" longname="产品利息利率定义记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="intrtp" jdbcType="VARCHAR" javaType="DpEnumType.E_INTRTP" mode="in" longname="利息类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_intr u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_intr u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbIntr" longname="分页查询产品利息利率定义表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="intrtp" jdbcType="VARCHAR" javaType="DpEnumType.E_INTRTP" mode="in" longname="利息类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbIntrInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_intr u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_intr u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[u.crcycd=#crcycd#]]></str>
                    </if>
                    <if test="intrtp!=null" type="If">
                        <str type="Str"><![CDATA[u.intrtp=#intrtp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbAcct" longname="产品核算定义表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="depttm" jdbcType="VARCHAR" javaType="BaseEnumType.E_TERMCD" mode="in" longname="存期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_acct u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_acct u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbAcct" longname="分页查询产品核算定义表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="depttm" jdbcType="VARCHAR" javaType="BaseEnumType.E_TERMCD" mode="in" longname="存期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbAcctInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_acct u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_acct u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="depttm!=null" type="If">
                        <str type="Str"><![CDATA[u.depttm=#depttm#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDppbActp" longname="产品核算定义表记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="cacttp" ref="DpDict.Prod.cacttp" jdbcType="VARCHAR" javaType="DpEnumType.E_CUSACT" mode="in" longname="客户账号类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_actp u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="cacttp!=null &amp;&amp; cacttp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.cacttp=#cacttp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dppb_actp u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="cacttp!=null &amp;&amp; cacttp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.cacttp=#cacttp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDppbActp" longname="分页查询产品核算定义表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="cacttp" ref="DpDict.Prod.cacttp" jdbcType="VARCHAR" javaType="DpEnumType.E_CUSACT" mode="in" longname="客户账号类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbActpInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dppb_actp u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="cacttp!=null &amp;&amp; cacttp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.cacttp=#cacttp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dppb_actp u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="cacttp!=null &amp;&amp; cacttp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.cacttp=#cacttp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selCntKupDptd" longname="活期资金产品池记录数">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="prodtp" jdbcType="VARCHAR" javaType="DpEnumType.E_PRODTP" mode="in" longname="产品类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kup_dptd u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[u.prodtp=#prodtp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kup_dptd u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[u.prodtp=#prodtp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPage" type="sql" id="selPageKupDptd" longname="分页查询活期资金产品池">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="prodtp" jdbcType="VARCHAR" javaType="DpEnumType.E_PRODTP" mode="in" longname="产品类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDptdInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kup_dptd u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[u.prodtp=#prodtp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kup_dptd u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[u.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[u.prodtp=#prodtp#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by u.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <delete method="delete" id="delallbyprodcd" longname="删除所有产品配置">
        <sql type="oracle"><![CDATA[
	  delete from kup_dppb
      where prodcd = #prodcd#      
      ]]></sql>
        <sql type="mysql"><![CDATA[
	  delete from kup_dppb
      where prodcd = #prodcd#      
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delcustbyprodcd" longname="删除所有产品配置cust表">
        <sql type="oracle"><![CDATA[
      delete from kup_dppb_cust
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="sybase"><![CDATA[
      delete from kup_dppb_cust
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="mysql"><![CDATA[
      delete from kup_dppb_cust
      where prodcd = #prodcd#        
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delbrchbyprodcd" longname="删除所有产品配置brch表">
        <sql type="oracle"><![CDATA[
      delete from kup_dppb_brch
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="mysql"><![CDATA[
      delete from kup_dppb_brch
      where prodcd = #prodcd#        
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="deltermbyprodcd" longname="删除所有产品配置term表">
        <sql type="oracle"><![CDATA[   
       delete from kup_dppb_term
      where prodcd = #prodcd#         
      ]]></sql>
        <sql type="mysql"><![CDATA[   
       delete from kup_dppb_term
      where prodcd = #prodcd#         
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delpostbyprodcd" longname="删除所有产品配置post表">
        <sql type="oracle"><![CDATA[
      delete from kup_dppb_post
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="mysql"><![CDATA[
      delete from kup_dppb_post
      where prodcd = #prodcd#        
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="deldrawbyprodcd" longname="删除所有产品配置draw表">
        <sql type="oracle"><![CDATA[
      delete from kup_dppb_draw
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="mysql"><![CDATA[
      delete from kup_dppb_draw
      where prodcd = #prodcd#        
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delmatubyprodcd" longname="删除所有产品配置matu表">
        <sql type="oracle"><![CDATA[
      delete from kup_dppb_matu
      where prodcd = #prodcd#         
      ]]></sql>
        <sql type="mysql"><![CDATA[
      delete from kup_dppb_matu
      where prodcd = #prodcd#         
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="deldfintrbyprodcd" longname="删除所有产品配置dfintr表">
        <sql type="oracle"><![CDATA[
      delete from kup_dppb_dfintr
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="mysql"><![CDATA[
      delete from kup_dppb_dfintr
      where prodcd = #prodcd#        
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delpostplanbyprodcd" longname="删除所有产品配置postplan表">
        <sql type="oracle"><![CDATA[
     delete from kup_dppb_post_plan
      where prodcd = #prodcd#        
      ]]></sql>
        <sql type="mysql"><![CDATA[
     delete from kup_dppb_post_plan
      where prodcd = #prodcd#        
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="deldrawplanbyprodcd" longname="删除所有产品配置drawplan表">
        <sql type="oracle"><![CDATA[
       delete from kup_dppb_draw_plan
      where prodcd = #prodcd#       
      ]]></sql>
        <sql type="mysql"><![CDATA[
       delete from kup_dppb_draw_plan
      where prodcd = #prodcd#       
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delintrbyprodcd" longname="删除所有产品配置intr表">
        <sql type="oracle"><![CDATA[
       delete from kup_dppb_intr
      where prodcd = #prodcd#     
      ]]></sql>
        <sql type="mysql"><![CDATA[
       delete from kup_dppb_intr
      where prodcd = #prodcd#     
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delacctbyprodcd" longname="删除所有产品配置acct表">
        <sql type="oracle"><![CDATA[
     delete from kup_dppb_acct
      where prodcd = #prodcd#       
      ]]></sql>
        <sql type="mysql"><![CDATA[
     delete from kup_dppb_acct
      where prodcd = #prodcd#       
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delactpbyprodcd" longname="删除所有产品配置actp表">
        <sql type="oracle"><![CDATA[ 
         delete from kup_dppb_actp
      where prodcd = #prodcd#    
      ]]></sql>
        <sql type="mysql"><![CDATA[ 
         delete from kup_dppb_actp
      where prodcd = #prodcd#    
      ]]></sql>
        <parameterMap class="string">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <select cache="none" method="selectAll" type="sql" id="selProdDetailByprodcd" longname="定存产品详细信息查询">
        <sql type="oracle"><![CDATA[select b.svrule,b.miniam,b.maxiam,c.presal from kup_dppb_post b , kup_dppb c 
where c.prodcd = #prodcd# and c.prodcd = b.prodcd]]></sql>
        <sql type="mysql"><![CDATA[select b.svrule,b.miniam,b.maxiam,c.presal from kup_dppb_post b , kup_dppb c 
where c.prodcd = #prodcd# and c.prodcd = b.prodcd]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdSvc.DppbDetailInfo"/>
    </select>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selProdtem" longname="产品模板信息查询">
        <parameterMap class="java.util.Map">
            <parameter property="busibi" ref="DpDict.Prod.busibi" jdbcType="VARCHAR" javaType="DpEnumType.E_BUSIBI" mode="in" longname="业务大类" parameterType="condition"/>
            <parameter property="modena" ref="DpDict.Prod.modena" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="模板名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.kupModeqryInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select modeno,modena,busibi,modest from kup_mode]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[modest = '1']]></str>
                    <if test="busibi !=null" type="If">
                        <str type="Str"><![CDATA[busibi = #busibi#]]></str>
                    </if>
                    <if test="modena != &quot;&quot; &amp;&amp; modena != null" type="If">
                        <str type="Str"><![CDATA[modena like '%'||#modena#||'%']]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select modeno,modena,busibi,modest from kup_mode]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[modest = '1']]></str>
                    <if test="busibi !=null" type="If">
                        <str type="Str"><![CDATA[busibi = #busibi#]]></str>
                    </if>
                    <if test="modena != &quot;&quot; &amp;&amp; modena != null" type="If">
                        <str type="Str"><![CDATA[modena like concat('%',#modena#,'%')]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectOne" type="sql" id="selKupDppbInfo" longname="根据产品代码和法人号获取产品基础属性表信息">
        <sql type="db2"><![CDATA[select * from kup_dppb a where a.prodcd = #prodcd# and a.corpno = #corpno# and (a.prodst = #prodst# or a.prodst = #prodst2#)]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb a where a.prodcd = #prodcd# and a.corpno = #corpno# and (a.prodst = #prodst# or a.prodst = #prodst2#)]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb a where a.prodcd = #prodcd# and a.corpno = #corpno# and (a.prodst = #prodst# or a.prodst = #prodst2#)]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品代码" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="prodst" jdbcType="VARCHAR" javaType="BaseEnumType.E_PRODST" mode="in" longname="产品状态" parameterType="condition"/>
            <parameter property="prodst2" jdbcType="VARCHAR" javaType="BaseEnumType.E_PRODST" mode="in" longname="产品状态" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppb"/>
    </select>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selPageBriefKupDppb" longname="产品统计查询">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="prodtx" ref="DpDict.Prod.prodtx" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="产品名称" parameterType="condition"/>
            <parameter property="busibi" ref="DpDict.Prod.busibi" jdbcType="VARCHAR" javaType="DpEnumType.E_BUSIBI" mode="in" longname="业务大类" parameterType="condition"/>
            <parameter property="prodtp" ref="DpDict.Prod.prodtp" jdbcType="VARCHAR" javaType="DpEnumType.E_PRODCT" mode="in" longname="业务中类" parameterType="condition"/>
            <parameter property="pddpfg" ref="DpDict.Prod.pddpfg" jdbcType="VARCHAR" javaType="DpEnumType.E_FCFLAG" mode="in" longname="业务小类" parameterType="condition"/>
            <parameter property="debttp" ref="DpDict.Prod.debttp" jdbcType="VARCHAR" javaType="BaseEnumType.E_DEBTTP" mode="in" longname="业务细类" parameterType="condition"/>
            <parameter property="prentp" ref="DpDict.Prod.prentp" jdbcType="VARCHAR" javaType="DpEnumType.E_PRENTP" mode="in" longname="产品启用方式" parameterType="condition"/>
            <parameter property="prodtg" ref="DpDict.Prod.prodtg" jdbcType="VARCHAR" javaType="DpEnumType.E_PRODTG" mode="in" longname="产品性质" parameterType="condition"/>
            <parameter property="prodst" ref="DpDict.Prod.prodst" jdbcType="VARCHAR" javaType="BaseEnumType.E_PRODST" mode="in" longname="产品状态" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="contfg" jdbcType="VARCHAR" javaType="BaseType.U_CHAR01" mode="in" longname="比对产品标志" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdQuery.KupDppbBriefInfo"/>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select dppb.* from (select a.prodcd,prodtx,'1' as busibi,prodtp,pddpfg,debttp,prentp,prodtg,prodst,null as tyinno,a.corpno,a.tmstmp,b.tranus from kup_dppb  a
inner join kup_dppb_user b on (a.prodcd = b.prodcd and b.prtrtp = '1') 
union
select a.prodcd,prodtx,'1' as busibi,prodtp,pddpfg,debttp,prentp,prodtg,prodst,tyinno,a.corpno,a.tmstmp,b.tranus from kup_dppb_temp   a
inner join kup_dppb_user b on (a.prodcd = b.prodcd and b.prtrtp = '0') 
union
select busino prodcd, busina prodtx, '99' as busibi, null as prodtp, null as pddpfg, null as debttp,'1' as prentp,'1' as prodtg,busist prodst,if(busist='1',tyinno,if(busist='2',tyinno,null)) tyinno,
a.corpno,a.tmstmp,tranus from gl_knp_busi a ) dppb ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="contfg == &quot;1&quot;" type="If">
                        <str type="Str"><![CDATA[prodst in ('3','4','5','6') ]]></str>
                    </if>
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[dppb.prodcd like concat('%', #prodcd# ,'%')]]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[prodtx like concat( '%', #prodtx# , '%')]]></str>
                    </if>
                    <if test="busibi!=null" type="If">
                        <str type="Str"><![CDATA[dppb.busibi = #busibi#]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[prodtp = #prodtp#]]></str>
                    </if>
                    <if test="pddpfg!=null" type="If">
                        <str type="Str"><![CDATA[pddpfg = #pddpfg#]]></str>
                    </if>
                    <if test="debttp!=null" type="If">
                        <str type="Str"><![CDATA[debttp = #debttp#]]></str>
                    </if>
                    <if test="prentp!=null" type="If">
                        <str type="Str"><![CDATA[prentp = #prentp#]]></str>
                    </if>
                    <if test="prodtg!=null" type="If">
                        <str type="Str"><![CDATA[prodtg = #prodtg#]]></str>
                    </if>
                    <if test="prodst!=null" type="If">
                        <str type="Str"><![CDATA[prodst = #prodst#]]></str>
                    </if>
                    <if test="corpno!=null &amp;&amp; corpno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[dppb.corpno = #corpno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[ order by prodcd desc]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select dppb.* from (select a.prodcd,prodtx,'1' as busibi,prodtp,pddpfg,debttp,prentp,prodtg,prodst,null as tyinno,a.corpno,a.tmstmp,b.tranus from kup_dppb  a
inner join kup_dppb_user b on (a.prodcd = b.prodcd and b.prtrtp = '1') 
union
select a.prodcd,prodtx,'1' as busibi,prodtp,pddpfg,debttp,prentp,prodtg,prodst,tyinno,a.corpno,a.tmstmp,b.tranus from kup_dppb_temp   a
inner join kup_dppb_user b on (a.prodcd = b.prodcd and b.prtrtp = '0') 
union
select busino prodcd, busina prodtx, '99' as busibi, null as prodtp, null as pddpfg, null as debttp,'1' as prentp,'1' as prodtg,busist prodst, case busist 
                      when '1' then tyinno
                       else case busist when '2' then tyinno else null end 
                        end as tyinno,
a.corpno,a.tmstmp,tranus from gl_knp_busi a ) dppb ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="contfg == &quot;1&quot;" type="If">
                        <str type="Str"><![CDATA[prodst in ('3','4','5','6') ]]></str>
                    </if>
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[dppb.prodcd like '%'|| #prodcd#||'%']]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[prodtx like concat '%'||#prodtx#||'%']]></str>
                    </if>
                    <if test="busibi!=null" type="If">
                        <str type="Str"><![CDATA[dppb.busibi = #busibi#]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[prodtp = #prodtp#]]></str>
                    </if>
                    <if test="pddpfg!=null" type="If">
                        <str type="Str"><![CDATA[pddpfg = #pddpfg#]]></str>
                    </if>
                    <if test="debttp!=null" type="If">
                        <str type="Str"><![CDATA[debttp = #debttp#]]></str>
                    </if>
                    <if test="prentp!=null" type="If">
                        <str type="Str"><![CDATA[prentp = #prentp#]]></str>
                    </if>
                    <if test="prodtg!=null" type="If">
                        <str type="Str"><![CDATA[prodtg = #prodtg#]]></str>
                    </if>
                    <if test="prodst!=null" type="If">
                        <str type="Str"><![CDATA[prodst = #prodst#]]></str>
                    </if>
                    <if test="corpno!=null &amp;&amp; corpno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[dppb.corpno = #corpno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[ order by prodcd desc]]></str>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectOne" type="sql" id="selBaseInfoByProdcd" longname="基础部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,prodtx,busime,busism,busifi,
    	    	pdcrcy,accatp,prodtg,prentp,brchfg,
    	    	cacttp,acolfg,dfctdt,inefdt,protno,
    	    	isdrft,prodst 
    	from
    	    	( select
    	    	    	distinct dp.prodcd,dp.prodtx, dp.prodtp as busime, dp.pddpfg as busism,
    	    	    	dp.debttp as busifi, dp.pdcrcy, ad.accatp, dp.prodtg , dp.prentp ,
    	    	    	dp.brchfg, ac.cacttp, ac.acolfg, dp.efctdt as dfctdt, dp.inefdt,
    	    	    	dp.protno, dp.isdrft, dp.prodst 
    	    	from
    	    	    	kup_dppb dp 
    	    	left join
    	    	    	kup_dppb_addt ad 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ad.prodcd
    	    	    	    	) 
    	    	inner join
    	    	    	kup_dppb_actp ac 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ac.prodcd
    	    	    	    	) 
    	    	union
    	    	select
    	    	    	distinct dptp.prodcd,dptp.prodtx,dptp.prodtp as busime,
    	    	    	dptp.pddpfg as busism,dptp.debttp as busifi,dptp.pdcrcy,adtp.accatp,dptp.prodtg ,
    	    	    	dptp.prentp ,dptp.brchfg,actp.cacttp,actp.acolfg,dptp.efctdt as dfctdt,
    	    	    	dptp.inefdt,dptp.protno,dptp.isdrft,dptp.prodst 
    	    	from
    	    	    	kup_dppb_temp dptp 
    	    	left join
    	    	    	kup_dppb_addt_temp adtp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = adtp.prodcd
    	    	    	    	) 
    	    	left join
    	    	    	kup_dppb_actp_temp actp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = actp.prodcd
    	    	    	    	) 
    	    	) a 
where
    	prodcd = #prodcd# 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,prodtx,busime,busism,busifi,
    	    	pdcrcy,accatp,prodtg,prentp,brchfg,
    	    	cacttp,acolfg,dfctdt,inefdt,protno,
    	    	isdrft,prodst 
    	from
    	    	( select
    	    	    	distinct dp.prodcd,dp.prodtx, dp.prodtp as busime, dp.pddpfg as busism,
    	    	    	dp.debttp as busifi, dp.pdcrcy, ad.accatp, dp.prodtg , dp.prentp ,
    	    	    	dp.brchfg, ac.cacttp, ac.acolfg, dp.efctdt as dfctdt, dp.inefdt,
    	    	    	dp.protno, dp.isdrft, dp.prodst 
    	    	from
    	    	    	kup_dppb dp 
    	    	left join
    	    	    	kup_dppb_addt ad 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ad.prodcd
    	    	    	    	) 
    	    	inner join
    	    	    	kup_dppb_actp ac 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ac.prodcd
    	    	    	    	) 
    	    	union
    	    	select
    	    	    	distinct dptp.prodcd,dptp.prodtx,dptp.prodtp as busime,
    	    	    	dptp.pddpfg as busism,dptp.debttp as busifi,dptp.pdcrcy,adtp.accatp,dptp.prodtg ,
    	    	    	dptp.prentp ,dptp.brchfg,actp.cacttp,actp.acolfg,dptp.efctdt as dfctdt,
    	    	    	dptp.inefdt,dptp.protno,dptp.isdrft,dptp.prodst 
    	    	from
    	    	    	kup_dppb_temp dptp 
    	    	left join
    	    	    	kup_dppb_addt_temp adtp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = adtp.prodcd
    	    	    	    	) 
    	    	left join
    	    	    	kup_dppb_actp_temp actp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = actp.prodcd
    	    	    	    	) 
    	    	) a 
where
    	prodcd = #prodcd# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDppbPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selCustInfoByProdcd" longname="开户控制部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,mginfg,mgindy,madtby,onlyfg,
    	    	srdpam,stepvl 
    	from
    	    	(select
    	    	    	distinct dppb.prodcd, dppb.mginfg, dppb.mgindy ,cust.madtby,
    	    	    	cust.onlyfg, cust.srdpam, cust.stepvl 
    	    	from
    	    	    	kup_dppb dppb 
    	    	inner join
    	    	    	kup_dppb_cust cust 
    	    	    	    	on (
    	    	    	    	    	dppb.prodcd = cust.prodcd
    	    	    	    	) 
    	    	union
    	    	select
    	    	    	distinct dppbtp.prodcd, dppbtp.mginfg, dppbtp.mgindy ,
    	    	    	custtp.madtby, custtp.onlyfg, custtp.srdpam, custtp.stepvl 
    	    	from
    	    	    	kup_dppb_temp dppbtp 
    	    	inner join
    	    	    	kup_dppb_cust_temp custtp 
    	    	    	    	on (
    	    	    	    	    	dppbtp.prodcd = custtp.prodcd
    	    	    	    	) 
    	    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,mginfg,mgindy,madtby,onlyfg,
    	    	srdpam,stepvl 
    	from
    	    	(select
    	    	    	distinct dppb.prodcd, dppb.mginfg, dppb.mgindy ,cust.madtby,
    	    	    	cust.onlyfg, cust.srdpam, cust.stepvl 
    	    	from
    	    	    	kup_dppb dppb 
    	    	inner join
    	    	    	kup_dppb_cust cust 
    	    	    	    	on (
    	    	    	    	    	dppb.prodcd = cust.prodcd
    	    	    	    	) 
    	    	union
    	    	select
    	    	    	distinct dppbtp.prodcd, dppbtp.mginfg, dppbtp.mgindy ,
    	    	    	custtp.madtby, custtp.onlyfg, custtp.srdpam, custtp.stepvl 
    	    	from
    	    	    	kup_dppb_temp dppbtp 
    	    	inner join
    	    	    	kup_dppb_cust_temp custtp 
    	    	    	    	on (
    	    	    	    	    	dppbtp.prodcd = custtp.prodcd
    	    	    	    	) 
    	    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpCustPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selPostInfoByProdcd" longname="存入控制部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,posttp,postwy,amntwy,miniam,
    	    	maxiam,timewy,minitm,maxitm,detlfg,
    	    	maxibl 
    	from
    	    	( select
    	    	    	po.prodcd,po.posttp,po.postwy,po.amntwy,po.miniam,
    	    	    	po.maxiam,po.timewy,po.minitm,po.maxitm,po.detlfg,
    	    	    	po.maxibl 
    	    	from
    	    	    	kup_dppb_post po 
    	    	union
    	    	select
    	    	    	potp.prodcd,potp.posttp,potp.postwy,potp.amntwy,potp.miniam,
    	    	    	potp.maxiam,potp.timewy,potp.minitm,potp.maxitm,potp.detlfg,
    	    	    	potp.maxibl 
    	    	from
    	    	    	kup_dppb_post_temp potp 
    	) a 
where
    	prodcd = #prodcd# 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,posttp,postwy,amntwy,miniam,
    	    	maxiam,timewy,minitm,maxitm,detlfg,
    	    	maxibl 
    	from
    	    	( select
    	    	    	po.prodcd,po.posttp,po.postwy,po.amntwy,po.miniam,
    	    	    	po.maxiam,po.timewy,po.minitm,po.maxitm,po.detlfg,
    	    	    	po.maxibl 
    	    	from
    	    	    	kup_dppb_post po 
    	    	union
    	    	select
    	    	    	potp.prodcd,potp.posttp,potp.postwy,potp.amntwy,potp.miniam,
    	    	    	potp.maxiam,potp.timewy,potp.minitm,potp.maxitm,potp.detlfg,
    	    	    	potp.maxibl 
    	    	from
    	    	    	kup_dppb_post_temp potp 
    	) a 
where
    	prodcd = #prodcd# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpPostPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selPoplInfoByProdcd" longname="存入计划控制部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,gentwy,gentpd,svlepd,svlewy,
    	    	maxisp,dfltsd,svletm,dfltwy,pscrwy,
    	    	psamtp 
    	from
    	    	( select
    	    	    	pl.prodcd,pl.gentwy,pl.planpd as gentpd,pl.svlepd,pl.svlewy,
    	    	    	pl.maxisp,pl.dfltsd,pl.svletm,pl.dfltwy,pl.pscrwy,
    	    	    	pl.psamtp 
    	    	from
    	    	    	kup_dppb_post_plan pl 
    	    	union
    	    	select
    	    	    	pltp.prodcd,pltp.gentwy,pltp.planpd as gentpd,pltp.svlepd,pltp.svlewy,
    	    	    	pltp.maxisp,pltp.dfltsd,pltp.svletm,pltp.dfltwy,pltp.pscrwy,
    	    	    	pltp.psamtp 
    	    	from
    	    	    	kup_dppb_popl_temp pltp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,gentwy,gentpd,svlepd,svlewy,
    	    	maxisp,dfltsd,svletm,dfltwy,pscrwy,
    	    	psamtp 
    	from
    	    	( select
    	    	    	pl.prodcd,pl.gentwy,pl.planpd as gentpd,pl.svlepd,pl.svlewy,
    	    	    	pl.maxisp,pl.dfltsd,pl.svletm,pl.dfltwy,pl.pscrwy,
    	    	    	pl.psamtp 
    	    	from
    	    	    	kup_dppb_post_plan pl 
    	    	union
    	    	select
    	    	    	pltp.prodcd,pltp.gentwy,pltp.planpd as gentpd,pltp.svlepd,pltp.svlewy,
    	    	    	pltp.maxisp,pltp.dfltsd,pltp.svletm,pltp.dfltwy,pltp.pscrwy,
    	    	    	pltp.psamtp 
    	    	from
    	    	    	kup_dppb_popl_temp pltp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpPostplPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selDrawInfoByProdcd" longname="支取控制部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,drawtp,ctrlwy,dramwy,drmiam,
    	    	drmxam,drtmwy,drmitm,drmxtm,drrule,
    	    	minibl,miblfg 
    	from
    	    	( select
    	    	    	dr.prodcd,dr.drawtp,dr.ctrlwy,dr.dramwy,
    	    	    	dr.drmiam,dr.drmxam,dr.drtmwy,dr.drmitm,dr.drmxtm,
    	    	    	dr.drrule,dr.minibl,dr.ismibl as miblfg 
    	    	from
    	    	    	kup_dppb_draw dr 
    	    	union
    	    	select
    	    	    	drtp.prodcd,drtp.drawtp,drtp.ctrlwy,
    	    	    	drtp.dramwy,drtp.drmiam,drtp.drmxam,drtp.drtmwy,drtp.drmitm,
    	    	    	drtp.drmxtm,drtp.drrule,drtp.minibl,drtp.ismibl as miblfg 
    	    	from
    	    	    	kup_dppb_draw_temp drtp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,drawtp,ctrlwy,dramwy,drmiam,
    	    	drmxam,drtmwy,drmitm,drmxtm,drrule,
    	    	minibl,miblfg 
    	from
    	    	( select
    	    	    	dr.prodcd,dr.drawtp,dr.ctrlwy,dr.dramwy,
    	    	    	dr.drmiam,dr.drmxam,dr.drtmwy,dr.drmitm,dr.drmxtm,
    	    	    	dr.drrule,dr.minibl,dr.ismibl as miblfg 
    	    	from
    	    	    	kup_dppb_draw dr 
    	    	union
    	    	select
    	    	    	drtp.prodcd,drtp.drawtp,drtp.ctrlwy,
    	    	    	drtp.dramwy,drtp.drmiam,drtp.drmxam,drtp.drtmwy,drtp.drmitm,
    	    	    	drtp.drmxtm,drtp.drrule,drtp.minibl,drtp.ismibl as miblfg 
    	    	from
    	    	    	kup_dppb_draw_temp drtp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDrawPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selDrplInfoByProdcd" longname="支取计划控制部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,drawwy,drawpd,drcrwy,drdfsd,
    	    	drdfwy,beinfg 
    	from
    	    	( select
    	    	    	pl.prodcd,pl.dradwy as drawwy,pl.gendpd as drawpd,pl.drcrwy,
    	    	    	pl.drdfsd,pl.drdfwy,pl.beinfg 
    	    	from
    	    	    	kup_dppb_draw_plan pl 
    	    	union
    	    	select
    	    	    	pltp.prodcd,pltp.dradwy as drawwy,pltp.gendpd as drawpd,
    	    	    	pltp.drcrwy,pltp.drdfsd,pltp.drdfwy,pltp.beinfg 
    	    	from
    	    	    	kup_dppb_drpl_temp pltp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,drawwy,drawpd,drcrwy,drdfsd,
    	    	drdfwy,beinfg 
    	from
    	    	( select
    	    	    	pl.prodcd,pl.dradwy as drawwy,pl.gendpd as drawpd,pl.drcrwy,
    	    	    	pl.drdfsd,pl.drdfwy,pl.beinfg 
    	    	from
    	    	    	kup_dppb_draw_plan pl 
    	    	union
    	    	select
    	    	    	pltp.prodcd,pltp.dradwy as drawwy,pltp.gendpd as drawpd,
    	    	    	pltp.drcrwy,pltp.drdfsd,pltp.drdfwy,pltp.beinfg 
    	    	from
    	    	    	kup_dppb_drpl_temp pltp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDrawplPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selMatuInfoByProdcd" longname="到期控制部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,festdl,delyfg,matupd,trdpfg,
    	    	trpdfg,trprod,trprtm,trprwy,trinwy 
    	from
    	    	( select
    	    	    	ma.prodcd,
    	    	    	ma.festdl,ma.delyfg,ma.matupd,ma.trdpfg,ma.trpdfg,
    	    	    	ma.trprod,ma.trintm as trprtm,ma.trsvtp as trprwy,ma.trinwy 
    	    	from
    	    	    	kup_dppb_matu ma 
    	    	union
    	    	select
    	    	    	matp.prodcd,matp.festdl,
    	    	    	matp.delyfg,matp.matupd,matp.trdpfg,matp.trpdfg,matp.trprod,
    	    	    	matp.trintm as trprtm,matp.trsvtp as trprwy,matp.trinwy 
    	    	from
    	    	    	kup_dppb_matu_temp matp 
    	) a 
where
    	prodcd = #prodcd# 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,festdl,delyfg,matupd,trdpfg,
    	    	trpdfg,trprod,trprtm,trprwy,trinwy 
    	from
    	    	( select
    	    	    	ma.prodcd,
    	    	    	ma.festdl,ma.delyfg,ma.matupd,ma.trdpfg,ma.trpdfg,
    	    	    	ma.trprod,ma.trintm as trprtm,ma.trsvtp as trprwy,ma.trinwy 
    	    	from
    	    	    	kup_dppb_matu ma 
    	    	union
    	    	select
    	    	    	matp.prodcd,matp.festdl,
    	    	    	matp.delyfg,matp.matupd,matp.trdpfg,matp.trpdfg,matp.trprod,
    	    	    	matp.trintm as trprtm,matp.trsvtp as trprwy,matp.trinwy 
    	    	from
    	    	    	kup_dppb_matu_temp matp 
    	) a 
where
    	prodcd = #prodcd# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpMatuPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selIntrInfoByProdcd" longname="利息利率部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,intrtp,inbefg,txbefg,taxecd,
    	    	txbebs,hutxfg,tebehz,txbefr,intrcd,
    	    	incdtp,intrdt,inwytp,levety,intrwy,
    	    	lyinwy,isrgdt,lydttp,inammd,bldyca,
    	    	cycltp,inprwy,inadlv,reprwy 
    	from
    	    	( select
    	    	    	a.prodcd,a.intrtp,
    	    	    	a.inbefg,a.txbefg,a.taxecd,a.txbebs,a.hutxfg,
    	    	    	a.tebehz,a.txbefr,a.intrcd,a.incdtp,a.intrdt ,
    	    	    	a.inwytp,a.levety,a.intrwy,a.lyinwy,a.isrgdt,
    	    	    	a.lydttp,a.inammd,a.bldyca,a.cycltp,a.inprwy,
    	    	    	a.inadlv,a.reprwy 
    	    	from
    	    	    	kup_dppb_intr a 
    	    	union
    	    	select
    	    	    	intp.prodcd,intp.intrtp,intp.inbefg,intp.txbefg,
    	    	    	intp.taxecd,intp.txbebs,intp.hutxfg,intp.tebehz,intp.txbefr,
    	    	    	intp.intrcd,intp.incdtp,intp.intrdt,intp.inwytp,intp.levety,
    	    	    	intp.intrwy,intp.lyinwy,intp.isrgdt,intp.lydttp,intp.inammd,
    	    	    	intp.bldyca,intp.cycltp,intp.inprwy,intp.inadlv,intp.reprwy 
    	    	from
    	    	    	kup_dppb_intr_temp intp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,intrtp,inbefg,txbefg,taxecd,
    	    	txbebs,hutxfg,tebehz,txbefr,intrcd,
    	    	incdtp,intrdt,inwytp,levety,intrwy,
    	    	lyinwy,isrgdt,lydttp,inammd,bldyca,
    	    	cycltp,inprwy,inadlv,reprwy 
    	from
    	    	( select
    	    	    	a.prodcd,a.intrtp,
    	    	    	a.inbefg,a.txbefg,a.taxecd,a.txbebs,a.hutxfg,
    	    	    	a.tebehz,a.txbefr,a.intrcd,a.incdtp,a.intrdt ,
    	    	    	a.inwytp,a.levety,a.intrwy,a.lyinwy,a.isrgdt,
    	    	    	a.lydttp,a.inammd,a.bldyca,a.cycltp,a.inprwy,
    	    	    	a.inadlv,a.reprwy 
    	    	from
    	    	    	kup_dppb_intr a 
    	    	union
    	    	select
    	    	    	intp.prodcd,intp.intrtp,intp.inbefg,intp.txbefg,
    	    	    	intp.taxecd,intp.txbebs,intp.hutxfg,intp.tebehz,intp.txbefr,
    	    	    	intp.intrcd,intp.incdtp,intp.intrdt,intp.inwytp,intp.levety,
    	    	    	intp.intrwy,intp.lyinwy,intp.isrgdt,intp.lydttp,intp.inammd,
    	    	    	intp.bldyca,intp.cycltp,intp.inprwy,intp.inadlv,intp.reprwy 
    	    	from
    	    	    	kup_dppb_intr_temp intp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpIntrPartDetail"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selDfirInfoByProdcd" longname="违约支取利息利率部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,teartp,incdtp,bsincd,bsinrl,
    	    	drintx,inadtp,intrdt,inclfg,levety,
    	    	intrwy,insrwy,bsinam,bsindt,inedsc,
    	    	drdein 
    	from
    	    	( select
    	    	    	df.prodcd,df.teartp,df.incdtp,df.bsincd,df.bsinrl,
    	    	    	df.drintx,df.inadtp,df.intrdt,df.inclfg,df.levety,
    	    	    	df.intrwy,df.insrwy,df.bsinam,df.bsindt,df.inedsc,
    	    	    	df.drdein 
    	    	from
    	    	    	kup_dppb_dfir df 
    	    	union
    	    	select
    	    	    	dftp.prodcd,dftp.teartp,dftp.incdtp,dftp.bsincd,dftp.bsinrl,
    	    	    	dftp.drintx,dftp.inadtp,dftp.intrdt,dftp.inclfg,dftp.levety,
    	    	    	dftp.intrwy,dftp.insrwy,dftp.bsinam,dftp.bsindt,dftp.inedsc,
    	    	    	dftp.drdein 
    	    	from
    	    	    	kup_dppb_dfir_temp dftp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,teartp,incdtp,bsincd,bsinrl,
    	    	drintx,inadtp,intrdt,inclfg,levety,
    	    	intrwy,insrwy,bsinam,bsindt,inedsc,
    	    	drdein 
    	from
    	    	( select
    	    	    	df.prodcd,df.teartp,df.incdtp,df.bsincd,df.bsinrl,
    	    	    	df.drintx,df.inadtp,df.intrdt,df.inclfg,df.levety,
    	    	    	df.intrwy,df.insrwy,df.bsinam,df.bsindt,df.inedsc,
    	    	    	df.drdein 
    	    	from
    	    	    	kup_dppb_dfir df 
    	    	union
    	    	select
    	    	    	dftp.prodcd,dftp.teartp,dftp.incdtp,dftp.bsincd,dftp.bsinrl,
    	    	    	dftp.drintx,dftp.inadtp,dftp.intrdt,dftp.inclfg,dftp.levety,
    	    	    	dftp.intrwy,dftp.insrwy,dftp.bsinam,dftp.bsindt,dftp.inedsc,
    	    	    	dftp.drdein 
    	    	from
    	    	    	kup_dppb_dfir_temp dftp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDfirPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selAcctInfoByProdcd" longname="核算部件信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd,acctcd 
    	from
    	    	( select
    	    	    	ac.prodcd,ac.acctcd 
    	    	from
    	    	    	kup_dppb_acct ac 
    	    	union
    	    	select
    	    	    	actp.prodcd,actp.acctcd 
    	    	from
    	    	    	kup_dppb_acct_temp actp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd,acctcd 
    	from
    	    	( select
    	    	    	ac.prodcd,ac.acctcd 
    	    	from
    	    	    	kup_dppb_acct ac 
    	    	union
    	    	select
    	    	    	actp.prodcd,actp.acctcd 
    	    	from
    	    	    	kup_dppb_acct_temp actp 
    	) a 
where
    	prodcd = #prodcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpCheckPartDetail"/>
    </select>
    <dynamicSelect cache="none" method="selectAll" type="sql" id="selKupDppbbyprodcd" longname="查询产品基础属性表和临时表">
        <parameterMap class="java.util.Map">
            <parameter property="cataid" ref="DpDict.Prod.cataid" jdbcType="VARCHAR" javaType="BaseType.U_CHAR10" mode="in" longname="产品目录编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppb"/>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select CORPNO,PRODCD,PRODTX,PDMKTX,EFCTDT,INEFDT,PDDPFG,PRODTP,PDCRCY,BRCHFG,CUSTFG,DEBTTP,MGINFG,PRODST,DATETM,tmstmp,PRESAL,MGINDY,ISDRFT,PRENTP,PRODTG,PROTNO 
from ( select CORPNO,PRODCD,PRODTX,PDMKTX,EFCTDT,INEFDT,PDDPFG,PRODTP,PDCRCY,BRCHFG,CUSTFG,DEBTTP,MGINFG,PRODST,DATETM,tmstmp,PRESAL,MGINDY,ISDRFT,PRENTP,PRODTG,PROTNO from kup_dppb union select CORPNO,PRODCD,PRODTX,PDMKTX,EFCTDT,INEFDT,PDDPFG,PRODTP,PDCRCY,BRCHFG,CUSTFG,DEBTTP,MGINFG,PRODST,DATETM,tmstmp,PRESAL,MGINDY,ISDRFT,PRENTP,PRODTG,PROTNO from kup_dppb_temp ) as A]]></str>
            <where type="Where">
                <and type="And">
                    <if test="A.prodcd != null || A.prodcd != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[A.prodcd like concat('%', #cataid#, '%') ]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select CORPNO,PRODCD,PRODTX,PDMKTX,EFCTDT,INEFDT,PDDPFG,PRODTP,PDCRCY,BRCHFG,CUSTFG,DEBTTP,MGINFG,PRODST,DATETM,tmstmp,PRESAL,MGINDY,ISDRFT,PRENTP,PRODTG,PROTNO 
from ( select CORPNO,PRODCD,PRODTX,PDMKTX,EFCTDT,INEFDT,PDDPFG,PRODTP,PDCRCY,BRCHFG,CUSTFG,DEBTTP,MGINFG,PRODST,DATETM,tmstmp,PRESAL,MGINDY,ISDRFT,PRENTP,PRODTG,PROTNO from kup_dppb union select CORPNO,PRODCD,PRODTX,PDMKTX,EFCTDT,INEFDT,PDDPFG,PRODTP,PDCRCY,BRCHFG,CUSTFG,DEBTTP,MGINFG,PRODST,DATETM,tmstmp,PRESAL,MGINDY,ISDRFT,PRENTP,PRODTG,PROTNO from kup_dppb_temp ) as A]]></str>
            <where type="Where">
                <and type="And">
                    <if test="A.prodcd != null || A.prodcd != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[A.prodcd like concat'%'||#cataid#||'%']]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectAll" type="sql" id="selTermInfoByProdcd" longname="开户控制部件存期信息查询">
        <sql type="mysql"><![CDATA[
    	select
    	    	depttm,deptdy 
    	from
    	    	kup_dppb_term_temp 
    	where
    	    	prodcd = #prodcd# 
    	union
    	select
    	    	depttm,deptdy 
    	from
    	    	kup_dppb_term 
    	where
    	    	prodcd = #prodcd# 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	depttm,deptdy 
    	from
    	    	kup_dppb_term_temp 
    	where
    	    	prodcd = #prodcd# 
    	union
    	select
    	    	depttm,deptdy 
    	from
    	    	kup_dppb_term 
    	where
    	    	prodcd = #prodcd# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpTermInfo"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selprodcd" longname="根据产品编号和法人代码查询产品信息">
        <sql><![CDATA[select a.prodcd,a.prodtx,a.pdmktx,a.efctdt,a.inefdt,a.pddpfg,a.prodtp,a.pdcrcy,a.brchfg,a.custfg,a.prentp,a.debttp,a.mginfg,a.prodst,a.corpno,a.tmstmp,a.presal
from kup_dppb a where a.prodcd = #prodcd# and  a.corpno = #corpno# 
union
select b.prodcd,b.prodtx,b.pdmktx,b.efctdt,b.inefdt,b.pddpfg,b.prodtp,b.pdcrcy,b.brchfg,b.custfg,b.prentp,b.debttp,b.mginfg,b.prodst,b.corpno,b.tmstmp,b.presal 
from kup_dppb_temp b where b.prodcd = #prodcd# and  b.corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select a.prodcd,a.prodtx,a.pdmktx,a.efctdt,a.inefdt,a.pddpfg,a.prodtp,a.pdcrcy,a.brchfg,a.custfg,a.prentp,a.debttp,a.mginfg,a.prodst,a.corpno,a.tmstmp,a.presal
from kup_dppb a where a.prodcd = #prodcd# and  a.corpno = #corpno# 
union
select b.prodcd,b.prodtx,b.pdmktx,b.efctdt,b.inefdt,b.pddpfg,b.prodtp,b.pdcrcy,b.brchfg,b.custfg,b.prentp,b.debttp,b.mginfg,b.prodst,b.corpno,b.tmstmp,b.presal 
from kup_dppb_temp b where b.prodcd = #prodcd# and  b.corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupDppbInfo"/>
    </select>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selKupQryapb" longname="查询适用机构（正式表）">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpQryapb"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select brch.prodcd,brch.brchno,dppb.efctdt ,dppb.inefdt from kup_dppb_brch brch left join kup_dppb dppb on (brch.prodcd = dppb.prodcd
and dppb.corpno = brch.corpno)
where brch.prodcd = #prodcd#]]></str>
            <where type="Where">
                <and type="And">
                    <if test="brchno != null &amp;&amp; brchno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[brch.brchno = #brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select brch.prodcd,brch.brchno,dppb.efctdt ,dppb.inefdt from kup_dppb_brch brch left join kup_dppb dppb on (brch.prodcd = dppb.prodcd
and dppb.corpno = brch.corpno)
where brch.prodcd = #prodcd#]]></str>
            <where type="Where">
                <and type="And">
                    <if test="brchno != null &amp;&amp; brchno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[brch.brchno = #brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select brch.prodcd,brch.brchno,dppb.efctdt ,dppb.inefdt from kup_dppb_brch brch left join kup_dppb dppb on (brch.prodcd = dppb.prodcd
and dppb.corpno = brch.corpno)
where brch.prodcd = #prodcd#]]></str>
            <where type="Where">
                <and type="And">
                    <if test="brchno != null &amp;&amp; brchno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[brch.brchno = #brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selKupQryapbt" longname="查询适用机构（临时表）">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpQryapb"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select brch.prodcd,brch.brchno,dppb.efctdt ,dppb.inefdt from kup_dppb_brch_temp brch left join kup_dppb_temp dppb on (brch.prodcd = dppb.prodcd
and dppb.corpno = brch.corpno)
where brch.prodcd = #prodcd#]]></str>
            <where type="Where">
                <and type="And">
                    <if test="brchno != null &amp;&amp; brchno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[brch.brchno = #brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select brch.prodcd,brch.brchno,dppb.efctdt ,dppb.inefdt from kup_dppb_brch_temp brch left join kup_dppb_temp dppb on (brch.prodcd = dppb.prodcd
and dppb.corpno = brch.corpno)
where brch.prodcd = #prodcd#]]></str>
            <where type="Where">
                <and type="And">
                    <if test="brchno != null &amp;&amp; brchno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[brch.brchno = #brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select brch.prodcd,brch.brchno,dppb.efctdt ,dppb.inefdt from kup_dppb_brch_temp brch left join kup_dppb_temp dppb on (brch.prodcd = dppb.prodcd
and dppb.corpno = brch.corpno)
where brch.prodcd = #prodcd#]]></str>
            <where type="Where">
                <and type="And">
                    <if test="brchno != null &amp;&amp; brchno != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[brch.brchno = #brchno#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectFirst" type="sql" id="selKnpBusiRubbishCount" longname="查询内部户产品垃圾数据数量">
        <sql type="oracle"><![CDATA[select count(1) from gl_knp_busi a, kup_dppb_user b
where a.busino = b.prodcd and b.busibi = '99' and  a.busist in ('1', '2')
and b.trandt < #trandt#]]></sql>
        <sql type="mysql"><![CDATA[select count(1) from gl_knp_busi a, kup_dppb_user b
where a.busino = b.prodcd and b.busibi = '99' and  a.busist in ('1', '2')
and b.trandt < #trandt#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="int"/>
    </select>
    <delete method="delete" id="delKnpBusiRubbish" longname="删除内部户产品垃圾数据">
        <sql type="oracle"><![CDATA[delete  from gl_knp_busi a
where exists (select 1 from kup_dppb_user b where a.busino = b.prodcd and b.trandt < #trandt#)
and a.busist in ('1', '2') ]]></sql>
        <sql type="mysql"><![CDATA[delete  from gl_knp_busi a
where exists (select 1 from kup_dppb_user b where a.busino = b.prodcd and b.trandt < #trandt#)
and a.busist in ('1', '2') ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <select cache="none" method="selectFirst" type="sql" id="selDppbTempRubbishCount" longname="查询基础属性临时表垃圾记录数目">
        <sql type="db2"><![CDATA[select count(1) from kup_dppb_temp a, kup_dppb_user b where a.prodcd = b.prodcd and b.TRANDT < #trandt# and prtrtp = '0' and b.busibi = '1']]></sql>
        <sql type="oracle"><![CDATA[select count(1) from kup_dppb_temp a, kup_dppb_user b where a.prodcd = b.prodcd and b.TRANDT < #trandt# and prtrtp = '0' and b.busibi = '1']]></sql>
        <sql type="mysql"><![CDATA[select count(1) from kup_dppb_temp a, kup_dppb_user b where a.prodcd = b.prodcd and b.TRANDT < #trandt# and prtrtp = '0' and b.busibi = '1']]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="int"/>
    </select>
    <delete method="delete" id="delPartTempRubbish" longname="删除部件临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_part_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_part_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )
]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_part_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_part_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )
]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_part_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_part_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delDppbTempRubbish" longname="删除基础属性临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delCustTempRubbish" longname="删除开户临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_cust_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_cust_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_cust_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_cust_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_cust_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_cust_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delBrchTempRubbish" longname="删除机构临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_brch_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_brch_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_brch_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_brch_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_brch_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_brch_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delTermTempRubbish" longname="删除存期临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_term_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_term_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )
]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_term_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_term_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )
]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_term_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_term_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delPostTempRubbish" longname="删除存入临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_post_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_post_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_post_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_post_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_post_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_post_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delDrawTempRubbish" longname="删除支取临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_draw_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_draw_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_draw_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_draw_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_draw_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_draw_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delMatuTempRubbish" longname="删除到期临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_matu_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_matu_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_matu_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_matu_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_matu_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_matu_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delDfirTempRubbish" longname="删除违约支取利息临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_dfir_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_dfir_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_dfir_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_dfir_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_dfir_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_dfir_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delPoplTempRubbish" longname="删除存入计划临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_popl_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_popl_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_popl_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_popl_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_popl_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_popl_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delDrplTempRubbish" longname="删除支取计划临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_drpl_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_drpl_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_drpl_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_drpl_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_drpl_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_drpl_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delIntrTempRubbish" longname="删除利息利率临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_intr_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_intr_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_intr_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_intr_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_intr_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_intr_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delAcctTempRubbish" longname="删除核算临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_acct_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_acct_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_acct_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_acct_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_acct_temp 
where exists (select 1 from kup_dppb_user b where kup_dppb_acct_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delActpTempRubbish" longname="删除账户类型临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_actp_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_actp_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_actp_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_actp_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_actp_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_actp_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delAddtTempRubbish" longname="删除附加属性临时表垃圾数据">
        <sql type="db2"><![CDATA[delete from kup_dppb_addt_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_addt_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_addt_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_addt_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_addt_temp  
where exists (select 1 from kup_dppb_user b where kup_dppb_addt_temp.prodcd = b.prodcd and b.TRANDT <#trandt# and prtrtp = '0' )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selBrchInfoByProdcd" longname="机构部件信息正式表查询">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdQuery.IoDpBrhcno"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select dppb.brchno,brch.brchna from kup_dppb_brch dppb ,kub_brch brch ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[dppb.brchno = brch.brchno ]]></str>
                    <str type="Str"><![CDATA[prodcd = #prodcd#]]></str>
                </and>
            </where>
            <str type="Str"><![CDATA[ order by dppb.brchno ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select dppb.brchno,brch.brchna from kup_dppb_brch dppb ,kub_brch brch ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[dppb.brchno = brch.brchno ]]></str>
                    <str type="Str"><![CDATA[prodcd = #prodcd#]]></str>
                </and>
            </where>
            <str type="Str"><![CDATA[ order by dppb.brchno ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select dppb.brchno,brch.brchna from kup_dppb_brch dppb ,kub_brch brch ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[dppb.brchno = brch.brchno ]]></str>
                    <str type="Str"><![CDATA[prodcd = #prodcd#]]></str>
                </and>
            </where>
            <str type="Str"><![CDATA[ order by dppb.brchno ]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selTempBrchInfoByProdcd" longname="机构部件信息临时表查询">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdQuery.IoDpBrhcno"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select temp.brchno,brch.brchna from kup_dppb_brch_temp temp ,kub_brch brch ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[temp.brchno = brch.brchno ]]></str>
                    <str type="Str"><![CDATA[prodcd = #prodcd#]]></str>
                </and>
            </where>
            <str type="Str"><![CDATA[order by temp.brchno]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select temp.brchno,brch.brchna from kup_dppb_brch_temp temp ,kub_brch brch ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[temp.brchno = brch.brchno ]]></str>
                    <str type="Str"><![CDATA[prodcd = #prodcd#]]></str>
                </and>
            </where>
            <str type="Str"><![CDATA[order by temp.brchno]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select temp.brchno,brch.brchna from kup_dppb_brch_temp temp ,kub_brch brch ]]></str>
            <where type="Where">
                <and type="And">
                    <str type="Str"><![CDATA[temp.brchno = brch.brchno ]]></str>
                    <str type="Str"><![CDATA[prodcd = #prodcd#]]></str>
                </and>
            </where>
            <str type="Str"><![CDATA[order by temp.brchno]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selBrDtChgeInfo" longname="产品机构日期调整查询">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="prodtx" ref="DpDict.Prod.prodtx" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="产品名称" parameterType="condition"/>
            <parameter property="busibi" ref="DpDict.Prod.busibi" jdbcType="VARCHAR" javaType="DpEnumType.E_BUSIBI" mode="in" longname="业务大类" parameterType="condition"/>
            <parameter property="prodtp" ref="DpDict.Prod.prodtp" jdbcType="VARCHAR" javaType="DpEnumType.E_PRODCT" mode="in" longname="业务中类" parameterType="condition"/>
            <parameter property="pddpfg" ref="DpDict.Prod.pddpfg" jdbcType="VARCHAR" javaType="DpEnumType.E_FCFLAG" mode="in" longname="业务小类" parameterType="condition"/>
            <parameter property="debttp" ref="DpDict.Prod.debttp" jdbcType="VARCHAR" javaType="BaseEnumType.E_DEBTTP" mode="in" longname="业务细类" parameterType="condition"/>
            <parameter property="prodst" ref="DpDict.Prod.prodst" jdbcType="VARCHAR" javaType="BaseEnumType.E_PRODST" mode="in" longname="产品状态" parameterType="condition"/>
            <parameter property="efctdt" ref="DpDict.Prod.efctdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="生效日期" parameterType="condition"/>
            <parameter property="inefdt" ref="DpDict.Prod.inefdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="失效日期" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdQuery.IoDpBrDtChgeQry"/>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select prodcd,prodtx, busibi,prodtp,pddpfg,debttp,efctdt,inefdt,prodst,corpno from (
select prodcd,prodtx,'1' as busibi,prodtp,pddpfg,debttp,efctdt,inefdt,prodst,corpno from kup_dppb
union 
select busino prodcd, busina prodtx, '99' as busibi, null as prodtp, null as pddpfg, null as debttp,bgdate as efctdt,eddate as inefdt,busist prodst,corpno from gl_knp_busi
) kupdppb]]></str>
            <where type="Where">
                <and type="And">
                    <if test="busibi !=null" type="If">
                        <str type="Str"><![CDATA[busibi = #busibi#]]></str>
                    </if>
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[prodcd like concat('%', #prodcd#, '%')]]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[prodtx like concat('%', #prodtx#, '%')]]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[prodtp = #prodtp#]]></str>
                    </if>
                    <if test="pddpfg!=null" type="If">
                        <str type="Str"><![CDATA[pddpfg = #pddpfg#]]></str>
                    </if>
                    <if test="debttp!=null" type="If">
                        <str type="Str"><![CDATA[debttp = #debttp#]]></str>
                    </if>
                    <if test="prodst!=null" type="If">
                        <str type="Str"><![CDATA[prodst = #prodst#]]></str>
                    </if>
                    <if test="efctdt!=null &amp;&amp; efctdt != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[efctdt = #efctdt#]]></str>
                    </if>
                    <if test="inefdt!=null &amp;&amp; inefdt != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[inefdt = #inefdt#]]></str>
                    </if>
                    <str type="Str"><![CDATA[ prodst in ('3', '5','6')]]></str>
                    <if test="corpno!=null &amp;&amp; corpno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[corpno = #corpno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select prodcd,prodtx, busibi,prodtp,pddpfg,debttp,efctdt,inefdt,prodst,corpno from (
select prodcd,prodtx,'1' as busibi,prodtp,pddpfg,debttp,efctdt,inefdt,prodst,corpno from kup_dppb
union 
select busino prodcd, busina prodtx, '99' as busibi, null as prodtp, null as pddpfg, null as debttp,bgdate as efctdt,eddate as inefdt,busist prodst,corpno from gl_knp_busi
) kupdppb]]></str>
            <where type="Where">
                <and type="And">
                    <if test="busibi !=null" type="If">
                        <str type="Str"><![CDATA[busibi = #busibi#]]></str>
                    </if>
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[prodcd like '%'||#prodcd#||'%']]></str>
                    </if>
                    <if test="prodtx!=null &amp;&amp; prodtx!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[prodtx like '%'|| #prodtx#|| '%']]></str>
                    </if>
                    <if test="prodtp!=null" type="If">
                        <str type="Str"><![CDATA[prodtp = #prodtp#]]></str>
                    </if>
                    <if test="pddpfg!=null" type="If">
                        <str type="Str"><![CDATA[pddpfg = #pddpfg#]]></str>
                    </if>
                    <if test="debttp!=null" type="If">
                        <str type="Str"><![CDATA[debttp = #debttp#]]></str>
                    </if>
                    <if test="prodst!=null" type="If">
                        <str type="Str"><![CDATA[prodst = #prodst#]]></str>
                    </if>
                    <if test="efctdt!=null &amp;&amp; efctdt != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[efctdt = #efctdt#]]></str>
                    </if>
                    <if test="inefdt!=null &amp;&amp; inefdt != &quot;&quot;" type="If">
                        <str type="Str"><![CDATA[inefdt = #inefdt#]]></str>
                    </if>
                    <str type="Str"><![CDATA[ prodst in ('3', '5','6')]]></str>
                    <if test="corpno!=null &amp;&amp; corpno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[corpno = #corpno#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selProductIr" longname="查询产品目录">
        <parameterMap class="java.util.Map">
            <parameter property="busibi" ref="DpDict.Prod.busibi" jdbcType="VARCHAR" javaType="DpEnumType.E_BUSIBI" mode="in" longname="业务大类" parameterType="condition"/>
            <parameter property="prodtp" ref="DpDict.Prod.prodtp" jdbcType="VARCHAR" javaType="DpEnumType.E_PRODCT" mode="in" longname="业务中类" parameterType="condition"/>
            <parameter property="pddpfg" ref="DpDict.Prod.pddpfg" jdbcType="VARCHAR" javaType="DpEnumType.E_FCFLAG" mode="in" longname="业务小类" parameterType="condition"/>
            <parameter property="debttp" ref="DpDict.Prod.debttp" jdbcType="VARCHAR" javaType="BaseEnumType.E_DEBTTP" mode="in" longname="业务细类" parameterType="condition"/>
            <parameter property="qrycon" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="查询条件" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupQrydirInfo"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select cata.cataid,cata.catana,cata.busibi,cata.prodtp,cata.pddpfg,cata.debttp,cata.creadt,cata.creatm,cata.userid from kup_cata cata ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="busibi!=null " type="If">
                        <str type="Str"><![CDATA[busibi = #qrycon# ]]></str>
                    </if>
                    <if test="prodtp!=null " type="If">
                        <str type="Str"><![CDATA[prodtp = #qrycon# ]]></str>
                    </if>
                    <if test="pddpfg!=null " type="If">
                        <str type="Str"><![CDATA[pddpfg = #qrycon# ]]></str>
                    </if>
                    <if test="debttp!=null " type="If">
                        <str type="Str"><![CDATA[debttp = #qrycon# ]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select cata.cataid,cata.catana,cata.busibi,cata.prodtp,cata.pddpfg,cata.debttp,cata.creadt,cata.creatm,cata.userid from kup_cata cata ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="busibi!=null " type="If">
                        <str type="Str"><![CDATA[busibi = #qrycon# ]]></str>
                    </if>
                    <if test="prodtp!=null " type="If">
                        <str type="Str"><![CDATA[prodtp = #qrycon# ]]></str>
                    </if>
                    <if test="pddpfg!=null " type="If">
                        <str type="Str"><![CDATA[pddpfg = #qrycon# ]]></str>
                    </if>
                    <if test="debttp!=null " type="If">
                        <str type="Str"><![CDATA[debttp = #qrycon# ]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select cata.cataid,cata.catana,cata.busibi,cata.prodtp,cata.pddpfg,cata.debttp,cata.creadt,cata.creatm,cata.userid from kup_cata cata ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="busibi!=null " type="If">
                        <str type="Str"><![CDATA[busibi = #qrycon# ]]></str>
                    </if>
                    <if test="prodtp!=null " type="If">
                        <str type="Str"><![CDATA[prodtp = #qrycon# ]]></str>
                    </if>
                    <if test="pddpfg!=null " type="If">
                        <str type="Str"><![CDATA[pddpfg = #qrycon# ]]></str>
                    </if>
                    <if test="debttp!=null " type="If">
                        <str type="Str"><![CDATA[debttp = #qrycon# ]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectPageWithCount" type="sql" id="selDirByProdcd" longname="根据产品名称查询目录产品">
        <sql type="mysql"><![CDATA[select a.* from (
select dppb.prodcd cataid,dppb.prodtx catana,substr(dppb.tmstmp,1,8) creadt,substr(dppb.tmstmp,9,6) creatm,f.tranus userid from kup_dppb dppb  ,kup_dppb_user f
where dppb.prodcd = f.prodcd and f.prtrtp ='1' and  dppb.prodst in ('5','3') and dppb.prodtx like CONCAT('%', #qrycon#, '%')
union all
select busi.busino cataid,busi.busina catana,substr(busi.tmstmp,1,8) creadt,substr(busi.tmstmp,9,6) creatm,q.tranus userid from gl_knp_busi busi  ,kup_dppb_user q
where busi.busino = q.prodcd and q.prtrtp ='1' and busi.busist in ('5','3')  and busi.busina like CONCAT('%', #qrycon#, '%')
) a ]]></sql>
        <sql type="oracle"><![CDATA[select a.* from (
select dppb.prodcd cataid,dppb.prodtx catana,substr(dppb.tmstmp,1,8) creadt,substr(dppb.tmstmp,9,6) creatm,f.tranus userid from kup_dppb dppb  ,kup_dppb_user f
where dppb.prodcd = f.prodcd and f.prtrtp ='1' and  dppb.prodst in ('5','3') and dppb.prodtx like '%'|| #qrycon#|| '%'
union all
select busi.busino cataid,busi.busina catana,substr(busi.tmstmp,1,8) creadt,substr(busi.tmstmp,9,6) creatm,q.tranus userid from gl_knp_busi busi  ,kup_dppb_user q
where busi.busino = q.prodcd and q.prtrtp ='1' and busi.busist in ('5','3')  and busi.busina like '%'|| #qrycon#|| '%'
) a ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="qrycon" jdbcType="VARCHAR" javaType="PbBaseType.U_CHAR30" mode="in" longname="查询条件" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupQrydirInfo"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selKupDppbBrchTemp" longname="查询机构控制临时表">
        <sql><![CDATA[select * from kup_dppb_brch_temp temp where temp.prodcd = #prodcd# and temp.crcycd = #crcycd# 
and temp.brchno = #brchno# ]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_brch_temp temp where temp.prodcd = #prodcd# and temp.crcycd = #crcycd# 
and temp.brchno = #brchno# ]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_brch_temp temp where temp.prodcd = #prodcd# and temp.crcycd = #crcycd# 
and temp.brchno = #brchno# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="brchno" ref="BaseDict.Comm.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbBrchTemp"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selKupDppbBrch" longname="查询机构控制表">
        <sql><![CDATA[select temp.* from kup_dppb_brch temp where temp.prodcd = #prodcd# and temp.crcycd = #crcycd# 
and temp.brchno = #brchno# ]]></sql>
        <sql type="oracle"><![CDATA[select temp.* from kup_dppb_brch temp where temp.prodcd = #prodcd# and temp.crcycd = #crcycd# 
and temp.brchno = #brchno# ]]></sql>
        <sql type="mysql"><![CDATA[select temp.* from kup_dppb_brch temp where temp.prodcd = #prodcd# and temp.crcycd = #crcycd# 
and temp.brchno = #brchno# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="brchno" ref="BaseDict.Comm.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbBrch"/>
    </select>
    <delete method="delete" id="delKupDppbBrchTemp" longname="删除机构控制临时表适用机构">
        <sql><![CDATA[delete from kup_dppb_brch_temp  where brchno = #brchno# and prodcd = #prodcd#
and crcycd = #crcycd#
]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_brch_temp  where brchno = #brchno# and prodcd = #prodcd#
and crcycd = #crcycd#
]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_brch_temp  where brchno = #brchno# and prodcd = #prodcd#
and crcycd = #crcycd#
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="brchno" ref="BaseDict.Comm.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <delete method="delete" id="delKupDppbBrch" longname="删除机构控制正式表适用机构">
        <sql><![CDATA[delete from kup_dppb_brch  where brchno = #brchno# and prodcd = #prodcd# 
and crcycd = #crcycd#
]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_brch  where brchno = #brchno# and prodcd = #prodcd# 
and crcycd = #crcycd#
]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_brch  where brchno = #brchno# and prodcd = #prodcd# 
and crcycd = #crcycd#
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="brchno" ref="BaseDict.Comm.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
    </delete>
    <select cache="none" method="selectAll" type="sql" id="selKupDppbBrchByprodcd" longname="根据产品号查询适用机构">
        <sql><![CDATA[select * from kup_dppb_brch brch where brch.prodcd = #prodcd# ]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_brch brch where brch.prodcd = #prodcd# ]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_brch brch where brch.prodcd = #prodcd# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbBrch"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selKupDppbBrchTempByProdcd" longname="根据产品号查询临时表适用机构">
        <sql><![CDATA[select * from kup_dppb_brch_temp brch where brch.prodcd = #prodcd# ]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_brch_temp brch where brch.prodcd = #prodcd# ]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_brch_temp brch where brch.prodcd = #prodcd# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbBrchTemp"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selKupDppbBrchByBrchno" longname="根据产品号和机构号查询机构控制信息">
        <sql><![CDATA[select * from kup_dppb_brch brch where brch.prodcd = #prodcd# 
and brch.brchno = #brchno# ]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_brch brch where brch.prodcd = #prodcd# 
and brch.brchno = #brchno# ]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_brch brch where brch.prodcd = #prodcd# 
and brch.brchno = #brchno# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="brchno" ref="BaseDict.Comm.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbBrch"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selGlKnpBusiByBusino" longname="根据产品号查询内部户产品">
        <sql><![CDATA[select busino,busist from gl_knp_busi where busino = #busino# and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select busino,busist from gl_knp_busi where busino = #busino# and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select busino,busist from gl_knp_busi where busino = #busino# and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="busino" ref="InDict.inac.busino" jdbcType="VARCHAR" javaType="BaseType.U_BUSINO" mode="in" longname="业务代码" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoInQueryTypes.IoKnpBusi"/>
    </select>
    <update method="update" id="updGlKnpBusiEnable" longname="内部户产品启用">
        <sql><![CDATA[update gl_knp_busi busi set busi.bgdate = #bgdate# ,busi.eddate = #eddate#,busi.busist = #busist#, tmstmp=#tmstmp#
where busi.busino = #busino# and busi.corpno=#corpno#]]></sql>
        <sql type="oracle"><![CDATA[update gl_knp_busi busi set busi.bgdate = #bgdate# ,busi.eddate = #eddate#,busi.busist = #busist#, tmstmp=#tmstmp#
where busi.busino = #busino# and busi.corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[update gl_knp_busi busi set busi.bgdate = #bgdate# ,busi.eddate = #eddate#,busi.busist = #busist#, tmstmp=#tmstmp#
where busi.busino = #busino# and busi.corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="busino" ref="InDict.inac.busino" jdbcType="VARCHAR" javaType="BaseType.U_BUSINO" mode="in" longname="业务代码" parameterType="condition"/>
            <parameter property="bgdate" ref="InDict.inac.bgdate" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="生效日期" parameterType="condition"/>
            <parameter property="eddate" ref="InDict.inac.eddate" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="失效日期" parameterType="condition"/>
            <parameter property="busist" jdbcType="VARCHAR" javaType="BaseEnumType.E_PRODST" mode="in" longname="产品状态" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
    </update>
    <update method="update" id="updGlKnpBusiDisable" longname="内部户产品停用">
        <sql><![CDATA[update gl_knp_busi busi set busi.eddate = #eddate#,busi.busist='6',busi.tmstmp=#tmstmp#
where busi.busino = #busino# and busi.corpno=#corpno#]]></sql>
        <sql type="oracle"><![CDATA[update gl_knp_busi busi set busi.eddate = #eddate#,busi.busist='6',busi.tmstmp=#tmstmp#
where busi.busino = #busino# and busi.corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[update gl_knp_busi busi set busi.eddate = #eddate#,busi.busist='6',busi.tmstmp=#tmstmp#
where busi.busino = #busino# and busi.corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="busino" ref="InDict.inac.busino" jdbcType="VARCHAR" javaType="BaseType.U_BUSINO" mode="in" longname="业务代码" parameterType="condition"/>
            <parameter property="eddate" ref="InDict.inac.eddate" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="失效日期" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
    </update>
    <select cache="none" method="selectOne" type="sql" id="selCntGlKnpBusiByBusino" longname="根据产品查询状态正常的内部账户笔数">
        <sql><![CDATA[select count(1) from gl_kna_acct acct where  acct.acctst = '1' and acct.busino = #busino# ]]></sql>
        <sql type="oracle"><![CDATA[select count(1) from gl_kna_acct acct where  acct.acctst = '1' and acct.busino = #busino# ]]></sql>
        <sql type="mysql"><![CDATA[select count(1) from gl_kna_acct acct where  acct.acctst = '1' and acct.busino = #busino# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="busino" ref="InDict.inac.busino" jdbcType="VARCHAR" javaType="BaseType.U_BUSINO" mode="in" longname="业务代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="BaseType.U_INTEGE"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selKnbParaMenuBylecode" longname="产品目录查询">
        <sql><![CDATA[select distinct menu.codevl cataid,menu.valuna catana,null creadt,null creatm,null userid  from knb_para_menu menu 
where menu.lecode = #lecode# and menu.codevl = #qrycon#]]></sql>
        <sql type="oracle"><![CDATA[select distinct menu.codevl cataid,menu.valuna catana,null creadt,null creatm,null userid  from knb_para_menu menu 
where menu.lecode = #lecode# and menu.codevl = #qrycon#]]></sql>
        <sql type="mysql"><![CDATA[select distinct menu.codevl cataid,menu.valuna catana,null creadt,null creatm,null userid  from knb_para_menu menu 
where menu.lecode = #lecode# and menu.codevl = #qrycon#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="lecode" jdbcType="VARCHAR" javaType="BaseType.U_LEVECE" mode="in" parameterType="condition"/>
            <parameter property="qrycon" jdbcType="VARCHAR" javaType="PbBaseType.U_CHAR30" mode="in" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupQrydirInfo"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selProdcdByCataid" longname="根据目录编号查询产品">
        <sql type="db2"><![CDATA[select dppb.prodcd cataid,dppb.prodtx catana,'LEV5' lecode, substr(dppb.tmstmp,1,8) creadt,substr(dppb.tmstmp,9,6) creatm from kup_dppb dppb
where dppb.prodst in ('5','3')
and   dppb.prodcd like concat('%', #cataid#, '%')
union all
select busi.busino cataid,busi.busina catana,'LEV5' lecode, substr(busi.tmstmp,1,8) creadt,substr(busi.tmstmp,9,6) creatm from gl_knp_busi busi 
where busi.busist in ('5','3')  and busi.busino like concat('%', #cataid#, '%') ]]></sql>
        <sql type="oracle"><![CDATA[select dppb.prodcd cataid,dppb.prodtx catana,'LEV5' lecode, substr(dppb.tmstmp,1,8) creadt,substr(dppb.tmstmp,9,6) creatm from kup_dppb dppb
where dppb.prodst in ('5','3')
and   dppb.prodcd like '%'|| #cataid#|| '%'
union all
select busi.busino cataid,busi.busina catana,'LEV5' lecode, substr(busi.tmstmp,1,8) creadt,substr(busi.tmstmp,9,6) creatm from gl_knp_busi busi 
where busi.busist in ('5','3')  and busi.busino like '%'||#cataid#|| '%' ]]></sql>
        <sql type="mysql"><![CDATA[select dppb.prodcd cataid,dppb.prodtx catana,'LEV5' lecode, substr(dppb.tmstmp,1,8) creadt,substr(dppb.tmstmp,9,6) creatm from kup_dppb dppb
where dppb.prodst in ('5','3')
and   dppb.prodcd like concat('%', #cataid#, '%')
union all
select busi.busino cataid,busi.busina catana,'LEV5' lecode, substr(busi.tmstmp,1,8) creadt,substr(busi.tmstmp,9,6) creatm from gl_knp_busi busi 
where busi.busist in ('5','3')  and busi.busino like concat('%', #cataid#, '%') ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="cataid" ref="DpDict.Prod.cataid" jdbcType="VARCHAR" javaType="BaseType.U_CHAR10" mode="in" longname="产品目录编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupQrydirTree"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selMenuByLecode" longname="根据层级代码查询下级目录">
        <sql><![CDATA[select distinct  menu.chcode cataid,mu.valuna catana,mu.lecode lecode,null creadt, null creatm 
from knb_para_menu menu ,knb_para_menu mu 
where menu.chcode = mu.codevl
and menu.lecode = #lecode#
and menu.codevl = #cataid# ]]></sql>
        <sql type="oracle"><![CDATA[select distinct  menu.chcode cataid,mu.valuna catana,mu.lecode lecode,null creadt, null creatm 
from knb_para_menu menu ,knb_para_menu mu 
where menu.chcode = mu.codevl
and menu.lecode = #lecode#
and menu.codevl = #cataid# ]]></sql>
        <sql type="mysql"><![CDATA[select distinct  menu.chcode cataid,mu.valuna catana,mu.lecode lecode,null creadt, null creatm 
from knb_para_menu menu ,knb_para_menu mu 
where menu.chcode = mu.codevl
and menu.lecode = #lecode#
and menu.codevl = #cataid# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="cataid" ref="DpDict.Prod.cataid" jdbcType="VARCHAR" javaType="BaseType.U_CHAR10" mode="in" longname="产品目录编号" parameterType="condition"/>
            <parameter property="lecode" jdbcType="VARCHAR" javaType="DpEnumType.E_LECODE" mode="in" longname="层级代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupQrydirTree"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="seleMenuByLev1" longname="查询一级目录">
        <sql><![CDATA[select distinct menu.codevl cataid,menu.valuna catana,menu.lecode lecode,null creadt, null creatm from knb_para_menu menu 
where menu.lecode = #lecode# ]]></sql>
        <sql type="oracle"><![CDATA[select distinct menu.codevl cataid,menu.valuna catana,menu.lecode lecode,null creadt, null creatm from knb_para_menu menu 
where menu.lecode = #lecode# ]]></sql>
        <sql type="mysql"><![CDATA[select distinct menu.codevl cataid,menu.valuna catana,menu.lecode lecode,null creadt, null creatm from knb_para_menu menu 
where menu.lecode = #lecode# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="lecode" jdbcType="VARCHAR" javaType="DpEnumType.E_LECODE" mode="in" longname="层级代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdType.KupQrydirTree"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selProdcdUserid" longname="查询产品新增柜员">
        <sql><![CDATA[select * from kup_dppb_user where prodcd = #prodcd# and prtrtp = '0' ]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_user where prodcd = #prodcd# and prtrtp = '0' ]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_user where prodcd = #prodcd# and prtrtp = '0' ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbUser"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selRfirByRfircd" longname="根据利率代码查询基础利率">
        <sql type="db2"><![CDATA[select count(1) from kup_rfir  where rfircd = #rfircd# and concat(efctdt,efcttm)  <= #trantn# 
and intrst='1' and corpno =#corpno#]]></sql>
        <sql type="oracle"><![CDATA[select count(1) from kup_rfir  where rfircd = #rfircd# and concat(efctdt,efcttm)  <= #trantn# 
and intrst='1' and corpno =#corpno#]]></sql>
        <sql type="mysql"><![CDATA[select count(1) from kup_rfir  where rfircd = #rfircd# and concat(efctdt,efcttm)  <= #trantn# 
and intrst='1' and corpno =#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="rfircd" ref="PbDict.Intr.rfircd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="基础利率代码" parameterType="condition"/>
            <parameter property="trantn" jdbcType="VARCHAR" javaType="BaseType.U_CHAR14" mode="in" longname="生效时间" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="int"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selBkirByIntrcd" longname="根据利率代码查询浮动利率">
        <sql type="mysql"><![CDATA[
    	select
    	    	count(1) 
    	from
    	    	kup_bkir a 
    	where
    	    	intrcd = #intrcd# and (a.efctdt<=str_to_date(#trantn#,'yyyymmdd') or a.efcttm <= #trantn#) 
    	    	and corpno=#corpno# and intrst='1'
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	count(1) 
    	from
    	    	kup_bkir a 
    	where
    	    	intrcd = #intrcd# and (a.efctdt<=to_date(#trantn#,'yyyymmdd') or a.efcttm <= #trantn#) 
    	    	and corpno=#corpno# and intrst='1'
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantn" jdbcType="VARCHAR" javaType="BaseType.U_CHAR14" mode="in" longname="生效时间" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="int"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selRlirByIntrcd" longname="根据利率代码查询分档利率">
        <sql><![CDATA[select count(1) from kup_rlir a where intrcd = #intrcd# and concat(a.efctdt,a.efcttm) <= #trantn# 
and corpno =#corpno# and intrst='1']]></sql>
        <sql type="oracle"><![CDATA[select count(1) from kup_rlir a where intrcd = #intrcd# and concat(a.efctdt,a.efcttm) <= #trantn# 
and corpno =#corpno# and intrst='1']]></sql>
        <sql type="mysql"><![CDATA[select count(1) from kup_rlir a where intrcd = #intrcd# and concat(a.efctdt,a.efcttm) <= #trantn# 
and corpno =#corpno# and intrst='1']]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantn" jdbcType="VARCHAR" javaType="BaseType.U_CHAR14" mode="in" longname="生效时间" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="int"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selDppbByProdtx" longname="根据产品名称查询产品">
        <sql type="mysql"><![CDATA[
    	select
    	    	prodcd 
    	from
    	    	( select
    	    	    	* 
    	    	from
    	    	    	kup_dppb 
    	    	union
    	    	select
    	    	    	* 
    	    	from
    	    	    	kup_dppb_temp 
    	) dppb 
where
    	prodtx = #prodtx# and corpno = #corpno# 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	prodcd 
    	from
    	    	( select
    	    	    	* 
    	    	from
    	    	    	kup_dppb 
    	    	union
    	    	select
    	    	    	* 
    	    	from
    	    	    	kup_dppb_temp 
    	) dppb 
where
    	prodtx = #prodtx# and corpno = #corpno# 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodtx" ref="DpDict.Prod.prodtx" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="产品名称" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="java.lang.String"/>
    </select>
    <delete method="delete" id="delUserRubbish" longname="删除产品操作柜员登记表">
        <sql type="db2"><![CDATA[delete from  kup_dppb_user  where  kup_dppb_user.TRANDT <#trandt# 
and not exists (select 1 from kup_dppb c where kup_dppb_user.prodcd = c.prodcd )
and not exists (select 1 from kup_dppb_temp c where kup_dppb_user.prodcd = c.prodcd )
and not exists (select 1 from gl_knp_busi c where kup_dppb_user.prodcd = c.busino )]]></sql>
        <sql type="oracle"><![CDATA[delete from  kup_dppb_user  where  kup_dppb_user.TRANDT <#trandt# 
and not exists (select 1 from kup_dppb c where kup_dppb_user.prodcd = c.prodcd )
and not exists (select 1 from kup_dppb_temp c where kup_dppb_user.prodcd = c.prodcd )
and not exists (select 1 from gl_knp_busi c where kup_dppb_user.prodcd = c.busino )]]></sql>
        <sql type="mysql"><![CDATA[delete from  kup_dppb_user  where  kup_dppb_user.TRANDT <#trandt# 
and not exists (select 1 from kup_dppb c where kup_dppb_user.prodcd = c.prodcd )
and not exists (select 1 from kup_dppb_temp c where kup_dppb_user.prodcd = c.prodcd )
and not exists (select 1 from gl_knp_busi c where kup_dppb_user.prodcd = c.busino )]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="trandt" ref="BaseDict.Comm.trandt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="交易日期" parameterType="condition"/>
        </parameterMap>
    </delete>
    <select cache="none" method="selectOne" type="sql" id="selCustnoByCustac" longname="根据电子账号查询客户号">
        <sql type="db2"><![CDATA[select custno from kna_cust a where custac = #custac#]]></sql>
        <sql type="oracle"><![CDATA[select custno from kna_cust a where custac = #custac#]]></sql>
        <sql type="mysql"><![CDATA[select custno from kna_cust a where custac = #custac#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="custac" jdbcType="VARCHAR" javaType="BaseType.U_CUSTAC" mode="in" longname="电子账号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="java.lang.String"/>
    </select>
    <dynamicSelect cache="none" method="selectOne" type="sql" id="selectOne_kns_prod_cler" longname="查询总账产品核算表">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="eventp" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="交易类型" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select count(1) from kns_prod_cler a]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="eventp!=null&amp;&amp;eventp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.eventp=#eventp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(1) from kns_prod_cler a]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="eventp!=null&amp;&amp;eventp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.eventp=#eventp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(1) from kns_prod_cler a]]></str>
            <where type="Where">
                <and type="And">
                    <if test="prodcd!=null &amp;&amp; prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.prodcd=#prodcd#]]></str>
                    </if>
                    <if test="eventp!=null&amp;&amp;eventp!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.eventp=#eventp#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectOne" type="sql" id="selKupMode" longname="查询产品模板信息">
        <sql><![CDATA[select a.* from kup_mode a where a.busibi=#busibi# and a.modena=#modena# and modest='1']]></sql>
        <sql type="oracle"><![CDATA[select a.* from kup_mode a where a.busibi=#busibi# and a.modena=#modena# and modest='1']]></sql>
        <sql type="mysql"><![CDATA[select a.* from kup_mode a where a.busibi=#busibi# and a.modena=#modena# and modest='1']]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="busibi" ref="DpDict.Prod.busibi" jdbcType="VARCHAR" javaType="DpEnumType.E_BUSIBI" mode="in" longname="业务大类" parameterType="condition"/>
            <parameter property="modena" ref="DpDict.Prod.modena" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="模板名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupMode"/>
    </select>
    <delete method="delete" id="delKupBrchTempByProdcd" longname="根据产品号币种删除机构控制临时表">
        <sql type="db2"><![CDATA[delete from kup_dppb_brch_temp  where  prodcd = #prodcd# 
and crcycd = #crcycd#
      ]]></sql>
        <sql type="oracle"><![CDATA[delete from kup_dppb_brch_temp  where  prodcd = #prodcd# 
and crcycd = #crcycd#
      ]]></sql>
        <sql type="mysql"><![CDATA[delete from kup_dppb_brch_temp  where  prodcd = #prodcd# 
and crcycd = #crcycd#
      ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
    </delete>
    <update method="update" id="updBrchTempByprodcd" longname="修改机构失效和失效日期为产品生效失效日期">
        <sql type="db2"><![CDATA[update kup_dppb_brch_temp t set t.efctdt = #efctdt# ,t.inefdt = #inefdt#
where prodcd  = #prodcd#]]></sql>
        <sql type="oracle"><![CDATA[update kup_dppb_brch_temp t set t.efctdt = #efctdt# ,t.inefdt = #inefdt#
where prodcd  = #prodcd#]]></sql>
        <sql type="mysql"><![CDATA[update kup_dppb_brch_temp t set t.efctdt = #efctdt# ,t.inefdt = #inefdt#
where prodcd  = #prodcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="efctdt" ref="DpDict.Prod.efctdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="生效日期" parameterType="condition"/>
            <parameter property="inefdt" ref="DpDict.Prod.inefdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="失效日期" parameterType="condition"/>
        </parameterMap>
    </update>
    <update method="update" id="updBrchByprodcd" longname="修改机构失效和失效日期为产品生效失效日期">
        <sql type="db2"><![CDATA[update kup_dppb_brch t set t.efctdt = #efctdt# ,t.inefdt = #inefdt#, t.tmstmp = #tmstmp#
where prodcd  = #prodcd# ]]></sql>
        <sql type="oracle"><![CDATA[update kup_dppb_brch t set t.efctdt = #efctdt# ,t.inefdt = #inefdt#, t.tmstmp = #tmstmp#
where prodcd  = #prodcd# ]]></sql>
        <sql type="mysql"><![CDATA[update kup_dppb_brch t set t.efctdt = #efctdt# ,t.inefdt = #inefdt#, t.tmstmp = #tmstmp#
where prodcd  = #prodcd# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="efctdt" ref="DpDict.Prod.efctdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="生效日期" parameterType="condition"/>
            <parameter property="inefdt" ref="DpDict.Prod.inefdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="失效日期" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
    </update>
    <dynamicUpdate method="updateOne" id="insKupDppb" longname="基础属性信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,prodtx,pdmktx,efctdt,inefdt,protno,
pddpfg,prodtp,prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,
isdrft,prodst,presal,tyinno,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,prodtx,pdmktx,efctdt,inefdt,protno,pddpfg,prodtp,
prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,isdrft,prodst,
presal,tyinno,#tmstmp# tmstmp 
from ${tblsrc}  where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,prodtx,pdmktx,efctdt,inefdt,protno,
pddpfg,prodtp,prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,
isdrft,prodst,presal,tyinno,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,prodtx,pdmktx,efctdt,inefdt,protno,pddpfg,prodtp,
prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,isdrft,prodst,
presal,tyinno,#tmstmp# tmstmp 
from ${tblsrc}  where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,prodtx,pdmktx,efctdt,inefdt,protno,
pddpfg,prodtp,prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,
isdrft,prodst,presal,tyinno,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,prodtx,pdmktx,efctdt,inefdt,protno,pddpfg,prodtp,
prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,isdrft,prodst,
presal,tyinno,#tmstmp# tmstmp 
from ${tblsrc}  where prodcd = #oprocd# ]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbCust" longname="开户控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,#tmstmp# tmstmp  
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,tmstmp)  
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,#tmstmp# tmstmp  
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,#tmstmp# tmstmp  
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbBrch" longname="机构控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,brchno,efctdt,inefdt,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,brchno,efctdt,inefdt,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,brchno,efctdt,inefdt,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,brchno,efctdt,inefdt,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,brchno,efctdt,inefdt,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,brchno,efctdt,inefdt,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbTerm" longname="存期控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,depttm,deptdy,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,depttm,deptdy,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,depttm,deptdy,tmstmp)  
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,depttm,deptdy,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,depttm,deptdy,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,depttm,deptdy,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbPost" longname="存入控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,posttp,postwy,amntwy,
miniam,maxiam,timewy,minitm,maxitm,detlfg,svrule,maxibl,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,posttp,postwy,amntwy,miniam,maxiam,
timewy,minitm,maxitm,detlfg,svrule,maxibl,#tmstmp# tmstmp  
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,posttp,postwy,amntwy,
miniam,maxiam,timewy,minitm,maxitm,detlfg,svrule,maxibl,tmstmp)  
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,posttp,postwy,amntwy,miniam,maxiam,
timewy,minitm,maxitm,detlfg,svrule,maxibl,#tmstmp# tmstmp  
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,posttp,postwy,amntwy,
miniam,maxiam,timewy,minitm,maxitm,detlfg,svrule,maxibl,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,posttp,postwy,amntwy,miniam,maxiam,
timewy,minitm,maxitm,detlfg,svrule,maxibl,#tmstmp# tmstmp  
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbDraw" longname="支取控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drawtp,ctrlwy,selfwy,
ordrwy,dramwy,drmiam,drmxam,drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drawtp,ctrlwy,selfwy,ordrwy,dramwy,drmiam,drmxam,
drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drawtp,ctrlwy,selfwy,
ordrwy,dramwy,drmiam,drmxam,drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,tmstmp)  
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,drawtp,ctrlwy,selfwy,ordrwy,dramwy,drmiam,drmxam,
drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drawtp,ctrlwy,selfwy,
ordrwy,dramwy,drmiam,drmxam,drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,tmstmp)  
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drawtp,ctrlwy,selfwy,ordrwy,dramwy,drmiam,drmxam,
drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbMatu" longname="到期控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,festdl,delyfg,matupd,
trdpfg,trpdfg,trdptm,trintm,trprod,trinwy,trsvtp,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,festdl,delyfg,matupd,trdpfg,trpdfg,trdptm,
trintm,trprod,trinwy,trsvtp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,festdl,delyfg,matupd,
trdpfg,trpdfg,trdptm,trintm,trprod,trinwy,trsvtp,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,festdl,delyfg,matupd,trdpfg,trpdfg,trdptm,
trintm,trprod,trinwy,trsvtp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,festdl,delyfg,matupd,
trdpfg,trpdfg,trdptm,trintm,trprod,trinwy,trsvtp,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,festdl,delyfg,matupd,trdpfg,trpdfg,trdptm,
trintm,trprod,trinwy,trsvtp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbDfir" longname="违约支取利息信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,
inadtp,sminad,adincd,insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,
bsinef,dtlvsr,dtsrcd,dtlvrl,dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,inadtp,sminad,adincd,
insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,bsinef,dtlvsr,dtsrcd,dtlvrl,
dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,#tmstmp# tmstmp
from ${tblsrc}  where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,
inadtp,sminad,adincd,insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,
bsinef,dtlvsr,dtsrcd,dtlvrl,dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,inadtp,sminad,adincd,
insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,bsinef,dtlvsr,dtsrcd,dtlvrl,
dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,#tmstmp# tmstmp
from ${tblsrc}  where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,
inadtp,sminad,adincd,insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,
bsinef,dtlvsr,dtsrcd,dtlvrl,dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,inadtp,sminad,adincd,
insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,bsinef,dtlvsr,dtsrcd,dtlvrl,
dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,#tmstmp# tmstmp
from ${tblsrc}  where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbPostPlan" longname="存入计划信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,
planpd,svlepd,svlewy,maxisp,dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,planpd,svlepd,svlewy,maxisp,
dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,
planpd,svlepd,svlewy,maxisp,dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,planpd,svlepd,svlewy,maxisp,
dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,
planpd,svlepd,svlewy,maxisp,dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,planpd,svlepd,svlewy,maxisp,
dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbDrawPlan" longname="支取计划信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,
dredwy,drcrwy,drdfsd,drdfwy,minibl,beinfg,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,dredwy,drcrwy,drdfsd,
drdfwy,minibl,beinfg,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,
dredwy,drcrwy,drdfsd,drdfwy,minibl,beinfg,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,dredwy,drcrwy,drdfsd,
drdfwy,minibl,beinfg,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,
dredwy,drcrwy,drdfsd,drdfwy,minibl,beinfg,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,dredwy,drcrwy,drdfsd,
drdfwy,minibl,beinfg,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbIntr" longname="利息利率信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,
incdtp,intrcd,intrdt,inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,
taxecd,isrgdt,lydttp,cycltp,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,incdtp,intrcd,intrdt,
inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,taxecd,isrgdt,lydttp,
cycltp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,
incdtp,intrcd,intrdt,inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,
taxecd,isrgdt,lydttp,cycltp,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,incdtp,intrcd,intrdt,
inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,taxecd,isrgdt,lydttp,
cycltp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,
incdtp,intrcd,intrdt,inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,
taxecd,isrgdt,lydttp,cycltp,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,incdtp,intrcd,intrdt,
inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,taxecd,isrgdt,lydttp,
cycltp,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbAcct" longname="核算信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,depttm,acctcd,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,depttm,acctcd,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,depttm,acctcd,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,depttm,acctcd,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,depttm,acctcd,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,depttm,acctcd,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbActp" longname="账户类型控制信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbAddt" longname="产品附加属性信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,accatp,mechno,mechnm,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,accatp,mechno,mechnm,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,accatp,mechno,mechnm,tmstmp) 
select corpno,nvl(#prodcd#,prodcd) prodcd,accatp,mechno,mechnm,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,accatp,mechno,mechnm,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,accatp,mechno,mechnm,#tmstmp# tmstmp 
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbPart" longname="产品部件信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,prodcd,addmtp,
partcd,partna,partfg,tmstmp) 
select  corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,ifnull(#prodcd#,prodcd) prodcd,addmtp,partcd,partna,
partfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,prodcd,addmtp,
partcd,partna,partfg,tmstmp) 
select  corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,nvl(#prodcd#,prodcd) prodcd,addmtp,partcd,partna,
partfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,prodcd,addmtp,
partcd,partna,partfg,tmstmp) 
select  corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,ifnull(#prodcd#,prodcd) prodcd,addmtp,partcd,partna,
partfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# ]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="updKupDppbTempProdst" longname="更新基础属性表状态">
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="tyinno" ref="DpDict.Prod.tyinno" jdbcType="VARCHAR" javaType="BaseType.U_TYINNO" mode="in" longname="录入编号" parameterType="condition"/>
            <parameter property="prodst" ref="DpDict.Prod.prodst" jdbcType="VARCHAR" javaType="BaseEnumType.E_PRODST" mode="in" longname="产品状态" parameterType="condition"/>
            <parameter property="prodtx" ref="DpDict.Prod.prodtx" jdbcType="VARCHAR" javaType="BaseType.U_CHAR40" mode="in" longname="产品名称" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[update  kup_dppb_temp a set a.tyinno = #tyinno#, a.tmstmp=#tmstmp#]]></str>
            <if test="prodst != null" type="If">
                <str type="Str"><![CDATA[ , a.prodst = #prodst# ]]></str>
            </if>
            <if test="prodtx != null &amp;&amp; prodtx !=&quot;&quot;" type="If">
                <str type="Str"><![CDATA[ , a.prodtx = #prodtx#]]></str>
            </if>
            <where type="Where">
                <str type="Str"><![CDATA[ prodcd = #prodcd# 
]]></str>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[update  kup_dppb_temp a set a.tyinno = #tyinno#, a.tmstmp=#tmstmp#]]></str>
            <if test="prodst != null" type="If">
                <str type="Str"><![CDATA[ , a.prodst = #prodst# ]]></str>
            </if>
            <if test="prodtx != null &amp;&amp; prodtx !=&quot;&quot;" type="If">
                <str type="Str"><![CDATA[ , a.prodtx = #prodtx#]]></str>
            </if>
            <where type="Where">
                <str type="Str"><![CDATA[ prodcd = #prodcd# 
]]></str>
            </where>
        </dynamicSql>
    </dynamicUpdate>
    <select cache="none" method="selectOne" type="sql" id="selDepttmByProdcdDepttm" longname="根据产品号和存期查询存期信息">
        <sql type="db2"><![CDATA[select t.* from kup_dppb_term_temp t where t.prodcd = #prodcd# and t.depttm = #depttm# ]]></sql>
        <sql type="oracle"><![CDATA[select t.* from kup_dppb_term_temp t where t.prodcd = #prodcd# and t.depttm = #depttm# ]]></sql>
        <sql type="mysql"><![CDATA[select t.* from kup_dppb_term_temp t where t.prodcd = #prodcd# and t.depttm = #depttm# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="depttm" ref="DpDict.Prod.depttm" jdbcType="VARCHAR" javaType="BaseEnumType.E_TERMCD" mode="in" longname="存期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpTermInfo"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selkupdppbbyprodcds" longname="根据产品编号查询产品名称">
        <sql type="db2"><![CDATA[select a.* from kup_dppb a where a.prodcd = #prodcd# and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select a.* from kup_dppb a where a.prodcd = #prodcd# and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select a.* from kup_dppb a where a.prodcd = #prodcd# and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppb"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selBrchByProdcd" longname="根据产品编号查询机构控制信息">
        <sql type="mysql"><![CDATA[
    	select
    	    	a.brchno,a.brchna 
    	from
    	    	kub_brch a 
    	where
    	    	brchno =(
    	    	    	select
    	    	    	    	brchno 
    	    	    	from
    	    	    	    	kup_dppb_brch 
    	    	    	where
    	    	    	    	prodcd=#prodcd#
    	    	) 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	a.brchno,a.brchna 
    	from
    	    	kub_brch a 
    	where
    	    	brchno =(
    	    	    	select
    	    	    	    	brchno 
    	    	    	from
    	    	    	    	kup_dppb_brch 
    	    	    	where
    	    	    	    	prodcd=#prodcd#
    	    	) 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDppbBrchPartDetail"/>
    </select>
    <dynamicUpdate method="updateOne" id="insKupDppbinfo" longname="基础属性信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="CcBaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,prodtx,pdmktx,efctdt,inefdt,protno,
pddpfg,prodtp,prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,
isdrft,prodst,presal,tyinno,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,prodtx,pdmktx,efctdt,inefdt,protno,pddpfg,prodtp,
prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,isdrft,prodst,
presal,tyinno,#tmstmp# tmstmp 
from ${tblsrc}  where prodcd = #oprocd#  and corpno = #corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,prodtx,pdmktx,efctdt,inefdt,protno,
pddpfg,prodtp,prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,
isdrft,prodst,presal,tyinno,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,prodtx,pdmktx,efctdt,inefdt,protno,pddpfg,prodtp,
prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,isdrft,prodst,
presal,tyinno,#tmstmp# tmstmp 
from ${tblsrc}  where prodcd = #oprocd#  and corpno = #corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,prodtx,pdmktx,efctdt,inefdt,protno,
pddpfg,prodtp,prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,
isdrft,prodst,presal,tyinno,tmstmp) 
select corpno,ifnull(#prodcd#,prodcd) prodcd,prodtx,pdmktx,efctdt,inefdt,protno,pddpfg,prodtp,
prodtg,prentp,pdcrcy,brchfg,custfg,debttp,mginfg,mgindy,isdrft,prodst,
presal,tyinno,#tmstmp# tmstmp 
from ${tblsrc}  where prodcd = #oprocd#  and corpno = #corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <select cache="none" method="selectOne" type="sql" id="selBrchByProdcdandCorpno" longname="根据产品编号查询机构控制信息">
        <sql type="mysql"><![CDATA[
    	select
    	    	a.brchno,a.brchna 
    	from
    	    	kub_brch a 
    	where
    	    	brchno =(
    	    	    	select
    	    	    	    	brchno 
    	    	    	from
    	    	    	    	kup_dppb_brch 
    	    	    	where
    	    	    	    	prodcd=#prodcd# 
			and
				corpno=#corpno#
    	    	)  	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	a.brchno,a.brchna 
    	from
    	    	kub_brch a 
    	where
    	    	brchno =(
    	    	    	select
    	    	    	    	brchno 
    	    	    	from
    	    	    	    	kup_dppb_brch 
    	    	    	where
    	    	    	    	prodcd=#prodcd# 
			and
				corpno=#corpno#
    	    	)  	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDppbBrchPartDetail"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selBaseInfoByProdcdandCorpno" longname="基础部件信息查询带法人">
        <sql type="mysql"><![CDATA[    	select
    	    	prodcd,prodtx,busime,busism,busifi,
    	    	pdcrcy,accatp,prodtg,prentp,brchfg,
    	    	cacttp,acolfg,dfctdt,inefdt,protno,
    	    	isdrft,prodst 
    	from
    	    	( select
    	    	    	distinct dp.prodcd,dp.prodtx, dp.prodtp as busime, dp.pddpfg as busism,
    	    	    	dp.debttp as busifi, dp.pdcrcy, ad.accatp, dp.prodtg , dp.prentp ,
    	    	    	dp.brchfg, ac.cacttp, ac.acolfg, dp.efctdt as dfctdt, dp.inefdt,
    	    	    	dp.protno, dp.isdrft, dp.prodst 
    	    	from
    	    	    	kup_dppb dp 
    	    	left join
    	    	    	kup_dppb_addt ad 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ad.prodcd and dp.corpno = #corpno#
    	    	    	    	) 
    	    	inner join
    	    	    	kup_dppb_actp ac 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ac.prodcd and dp.corpno = #corpno#
    	    	    	    	) 
    	    	union
    	    	select
    	    	    	distinct dptp.prodcd,dptp.prodtx,dptp.prodtp as busime,
    	    	    	dptp.pddpfg as busism,dptp.debttp as busifi,dptp.pdcrcy,adtp.accatp,dptp.prodtg ,
    	    	    	dptp.prentp ,dptp.brchfg,actp.cacttp,actp.acolfg,dptp.efctdt as dfctdt,
    	    	    	dptp.inefdt,dptp.protno,dptp.isdrft,dptp.prodst 
    	    	from
    	    	    	kup_dppb_temp dptp 
    	    	left join
    	    	    	kup_dppb_addt_temp adtp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = adtp.prodcd and dptp.corpno = #corpno#
    	    	    	    	) 
    	    	left join
    	    	    	kup_dppb_actp_temp actp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = actp.prodcd and dptp.corpno = #corpno#
    	    	    	    	) 
    	    	) a 
where
    	prodcd = #prodcd# ]]></sql>
        <sql type="oracle"><![CDATA[    	select
    	    	prodcd,prodtx,busime,busism,busifi,
    	    	pdcrcy,accatp,prodtg,prentp,brchfg,
    	    	cacttp,acolfg,dfctdt,inefdt,protno,
    	    	isdrft,prodst 
    	from
    	    	( select
    	    	    	distinct dp.prodcd,dp.prodtx, dp.prodtp as busime, dp.pddpfg as busism,
    	    	    	dp.debttp as busifi, dp.pdcrcy, ad.accatp, dp.prodtg , dp.prentp ,
    	    	    	dp.brchfg, ac.cacttp, ac.acolfg, dp.efctdt as dfctdt, dp.inefdt,
    	    	    	dp.protno, dp.isdrft, dp.prodst 
    	    	from
    	    	    	kup_dppb dp 
    	    	left join
    	    	    	kup_dppb_addt ad 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ad.prodcd and dp.corpno = #corpno#
    	    	    	    	) 
    	    	inner join
    	    	    	kup_dppb_actp ac 
    	    	    	    	on (
    	    	    	    	    	dp.prodcd = ac.prodcd and dp.corpno = #corpno#
    	    	    	    	) 
    	    	union
    	    	select
    	    	    	distinct dptp.prodcd,dptp.prodtx,dptp.prodtp as busime,
    	    	    	dptp.pddpfg as busism,dptp.debttp as busifi,dptp.pdcrcy,adtp.accatp,dptp.prodtg ,
    	    	    	dptp.prentp ,dptp.brchfg,actp.cacttp,actp.acolfg,dptp.efctdt as dfctdt,
    	    	    	dptp.inefdt,dptp.protno,dptp.isdrft,dptp.prodst 
    	    	from
    	    	    	kup_dppb_temp dptp 
    	    	left join
    	    	    	kup_dppb_addt_temp adtp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = adtp.prodcd and dptp.corpno = #corpno#
    	    	    	    	) 
    	    	left join
    	    	    	kup_dppb_actp_temp actp 
    	    	    	    	on (
    	    	    	    	    	dptp.prodcd = actp.prodcd and dptp.corpno = #corpno#
    	    	    	    	) 
    	    	) a 
where
    	prodcd = #prodcd# ]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdParts.IoDpDppbPartDetail"/>
    </select>
    <dynamicUpdate method="update" id="insKupDppbCustbByCorpno" longname="开户控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,madtby,onlyfg,srdpam,stepvl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbBrchByCorpno" longname="机构控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,brchno,efctdt,inefdt,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,brchno,efctdt,inefdt,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,brchno,efctdt,inefdt,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,brchno,efctdt,inefdt,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,brchno,efctdt,inefdt,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,brchno,efctdt,inefdt,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbTermByCorpno" longname="存期控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,depttm,deptdy,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,depttm,deptdy,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,depttm,deptdy,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,depttm,deptdy,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,depttm,deptdy,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,depttm,deptdy,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbPostByCorpno" longname="存入控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,posttp,postwy,amntwy,
miniam,maxiam,timewy,minitm,maxitm,detlfg,svrule,maxibl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,posttp,postwy,amntwy,miniam,maxiam,
timewy,minitm,maxitm,detlfg,svrule,maxibl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,posttp,postwy,amntwy,
miniam,maxiam,timewy,minitm,maxitm,detlfg,svrule,maxibl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,posttp,postwy,amntwy,miniam,maxiam,
timewy,minitm,maxitm,detlfg,svrule,maxibl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,posttp,postwy,amntwy,
miniam,maxiam,timewy,minitm,maxitm,detlfg,svrule,maxibl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,posttp,postwy,amntwy,miniam,maxiam,
timewy,minitm,maxitm,detlfg,svrule,maxibl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbDrawByCorpno" longname="支取控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drawtp,ctrlwy,selfwy,
ordrwy,dramwy,drmiam,drmxam,drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drawtp,ctrlwy,selfwy,ordrwy,dramwy,drmiam,drmxam,
drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno# 
]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drawtp,ctrlwy,selfwy,
ordrwy,dramwy,drmiam,drmxam,drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drawtp,ctrlwy,selfwy,ordrwy,dramwy,drmiam,drmxam,
drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno# 
]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drawtp,ctrlwy,selfwy,
ordrwy,dramwy,drmiam,drmxam,drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drawtp,ctrlwy,selfwy,ordrwy,dramwy,drmiam,drmxam,
drtmwy,drmitm,drmxtm,drrule,ismibl,minibl,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno# 
]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbMatuBycorpno" longname="到期控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,festdl,delyfg,matupd,
trdpfg,trpdfg,trdptm,trintm,trprod,trinwy,trsvtp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,festdl,delyfg,matupd,trdpfg,trpdfg,trdptm,
trintm,trprod,trinwy,trsvtp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,festdl,delyfg,matupd,
trdpfg,trpdfg,trdptm,trintm,trprod,trinwy,trsvtp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,festdl,delyfg,matupd,trdpfg,trpdfg,trdptm,
trintm,trprod,trinwy,trsvtp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,festdl,delyfg,matupd,
trdpfg,trpdfg,trdptm,trintm,trprod,trinwy,trsvtp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,festdl,delyfg,matupd,trdpfg,trpdfg,trdptm,
trintm,trprod,trinwy,trsvtp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbDfirByCorpno" longname="违约支取利息信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,
inadtp,sminad,adincd,insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,
bsinef,dtlvsr,dtsrcd,dtlvrl,dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,inadtp,sminad,adincd,
insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,bsinef,dtlvsr,dtsrcd,dtlvrl,
dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,#tmstmp# tmstmp
from ${tblsrc}  where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,
inadtp,sminad,adincd,insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,
bsinef,dtlvsr,dtsrcd,dtlvrl,dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,inadtp,sminad,adincd,
insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,bsinef,dtlvsr,dtsrcd,dtlvrl,
dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,#tmstmp# tmstmp
from ${tblsrc}  where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,
inadtp,sminad,adincd,insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,
bsinef,dtlvsr,dtsrcd,dtlvrl,dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,drintp,teartp,ingpcd,incdtp,intrtp,drintx,inadtp,sminad,adincd,
insrwy,inclfg,intrwy,levety,intrdt,bsinam,bsindt,inedsc,bsincd,bsinrl,bsinef,dtlvsr,dtsrcd,dtlvrl,
dtlvef,amlvsr,amlvcd,amlvrl,amlvef,drinsc,drdein,#tmstmp# tmstmp
from ${tblsrc}  where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbPostPlanByCorpno" longname="存入计划信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,
planpd,svlepd,svlewy,maxisp,dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,planpd,svlepd,svlewy,maxisp,
dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,
planpd,svlepd,svlewy,maxisp,dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,planpd,svlepd,svlewy,maxisp,
dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,
planpd,svlepd,svlewy,maxisp,dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,planfg,planwy,adjtpd,endtwy,gentwy,planpd,svlepd,svlewy,maxisp,
dfltsd,svletm,dfltwy,pscrwy,maxibl,psamtp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd#  and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbDrawPlanByCorpno" longname="支取计划信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,
dredwy,drcrwy,drdfsd,drdfwy,minibl,beinfg,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,dredwy,drcrwy,drdfsd,
drdfwy,minibl,beinfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,
dredwy,drcrwy,drdfsd,drdfwy,minibl,beinfg,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,dredwy,drcrwy,drdfsd,
drdfwy,minibl,beinfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,
dredwy,drcrwy,drdfsd,drdfwy,minibl,beinfg,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,setpwy,dradwy,gendpd,termwy,dradpd,dredwy,drcrwy,drdfsd,
drdfwy,minibl,beinfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbIntrByCorpno" longname="利息利率信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,
incdtp,intrcd,intrdt,inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,
taxecd,isrgdt,lydttp,cycltp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,incdtp,intrcd,intrdt,
inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,taxecd,isrgdt,lydttp,
cycltp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,
incdtp,intrcd,intrdt,inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,
taxecd,isrgdt,lydttp,cycltp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,incdtp,intrcd,intrdt,
inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,taxecd,isrgdt,lydttp,
cycltp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,
incdtp,intrcd,intrdt,inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,
taxecd,isrgdt,lydttp,cycltp,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,crcycd,intrtp,inbefg,txbefg,txbebs,tebehz,hutxfg,txbefr,incdtp,intrcd,intrdt,
inwytp,levety,intrwy,lyinwy,inammd,bldyca,inprwy,inadlv,reprwy,fvrbfg,fvrblv,taxecd,isrgdt,lydttp,
cycltp,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbAcctByCorpno" longname="核算信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,depttm,acctcd,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,depttm,acctcd,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,depttm,acctcd,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,depttm,acctcd,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,depttm,acctcd,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,depttm,acctcd,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbActpByCorpno" longname="账户类型控制信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,cacttp,acolfg,dcmtfg,dcmttp,sactcn,dcmtcn,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbAddtByCorpno" longname="产品附加属性信息迁移带法人">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,accatp,mechno,mechnm,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,accatp,mechno,mechnm,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,accatp,mechno,mechnm,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,accatp,mechno,mechnm,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,prodcd,accatp,mechno,mechnm,tmstmp)
select corpno,ifnull(#prodcd#,prodcd) prodcd,accatp,mechno,mechnm,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <dynamicUpdate method="update" id="insKupDppbPartByCorpno" longname="产品部件信息迁移">
        <parameterMap class="java.util.Map">
            <parameter property="tbldes" jdbcType="VARCHAR" javaType="BaseType.U_CHAR300" mode="in" longname="目标表名" parameterType="condition"/>
            <parameter property="tblsrc" jdbcType="VARCHAR" javaType="BaseType.U_CHAR30" mode="in" longname="来源表名" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="oprocd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="原产品编号" parameterType="condition"/>
            <parameter property="tmstmp" ref="ApDict.Aplt.tmstmp" jdbcType="VARCHAR" javaType="ApBaseType.U_TMSTMP" mode="in" longname="时间戳" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,prodcd,addmtp,
partcd,partna,partfg,tmstmp)
select  corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,ifnull(#prodcd#,prodcd) prodcd,addmtp,partcd,partna,
partfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,prodcd,addmtp,
partcd,partna,partfg,tmstmp)
select  corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,ifnull(#prodcd#,prodcd) prodcd,addmtp,partcd,partna,
partfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[insert into ${tbldes} (corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,prodcd,addmtp,
partcd,partna,partfg,tmstmp)
select  corpno,busibi,prodtp,pddpfg,debttp,prodtg,prentp,ifnull(#prodcd#,prodcd) prodcd,addmtp,partcd,partna,
partfg,#tmstmp# tmstmp
from ${tblsrc} where prodcd = #oprocd# and corpno =#corpno#]]></str>
        </dynamicSql>
    </dynamicUpdate>
    <select cache="none" method="selectPageWithCount" type="sql" id="selPageKupDprebypdInfo" longname="根据卡号查询预约购买产品表">
        <sql><![CDATA[
    	select
    	    	cardno,crcycd,prodcd,depttm,restdt,
    	    	recycl,cycles,rebype,quanmy,holdmy 
    	from
    	    	kup_dpre_bypd 
    	where
    	    	rebyst = '1' and cardno = #cardno#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	cardno,crcycd,prodcd,depttm,restdt,
    	    	recycl,cycles,rebype,quanmy,holdmy 
    	from
    	    	kup_dpre_bypd 
    	where
    	    	rebyst = '1' and cardno = #cardno#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	cardno,crcycd,prodcd,depttm,restdt,
    	    	recycl,cycles,rebype,quanmy,holdmy 
    	from
    	    	kup_dpre_bypd 
    	where
    	    	rebyst = '1' and cardno = #cardno#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="cardno" ref="DpDict.Acct.cardno" jdbcType="VARCHAR" javaType="BaseType.U_CARDNO" mode="in" longname="卡号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdSvc.ReserveProductOut"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selKupDprebypdKey" longname="查询满足条件的购买产品的账号">
        <sql><![CDATA[
    	select
    	    	cardno,prodcd
    	from
    	    	kup_dpre_bypd 
    	where
    	    	rebyst = '1' and renxdt <= #renxdt#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	cardno,prodcd
    	from
    	    	kup_dpre_bypd 
    	where
    	    	rebyst = '1' and renxdt <= #renxdt#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	cardno,prodcd
    	from
    	    	kup_dpre_bypd 
    	where
    	    	rebyst = '1' and renxdt <= #renxdt#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="renxdt" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="下次预约日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpPoc.BuyProductKey"/>
    </select>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selKupDppdSalInfo" longname="查询产品销售情况">
        <parameterMap class="java.util.Map">
            <parameter property="plstad" ref="DpDict.Acct.plstad" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="计划开始日期" parameterType="condition"/>
            <parameter property="ploved" ref="DpDict.Acct.ploved" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="计划结束日期" parameterType="condition"/>
            <parameter property="corpno" ref="BaseDict.Comm.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoDpProdQuery.IoDpSalInfo"/>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select a.prodcd,b.prodtx,count(a.prodcd) fenshu,sum(a.onlnbl) totamt from (
select corpno, prodcd,onlnbl,opendt from kna_acct 
union all
select corpno, prodcd,onlnbl,opendt  from kna_fxac 
 ) a LEFT JOIN
(select * from kup_dppb) b on a.prodcd = b.prodcd and a.corpno = b.corpno]]></str>
            <where type="Where">
                <and type="And">
                    <if test="plstad!=null&amp;&amp;plstad!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.opendt >=#plstad#]]></str>
                    </if>
                    <if test="ploved!=null&amp;&amp;ploved!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.opendt <=#ploved#]]></str>
                    </if>
                    <if test="corpno!=null&amp;&amp;corpno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.corpno = #corpno#]]></str>
                    </if>
                    <if test="prodcd!=null&amp;&amp;prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.prodcd =#prodcd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[group by  a.prodcd, a.corpno]]></str>
            <str type="Str"><![CDATA[order by  a.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="db2">
            <str type="Str"><![CDATA[select a.prodcd,b.prodtx,count(a.prodcd) fenshu,sum(a.onlnbl) totamt from (
select corpno, prodcd,onlnbl,opendt from kna_acct 
union all
select corpno, prodcd,onlnbl,opendt  from kna_fxac 
 ) a LEFT JOIN
(select * from kup_dppb) b on a.prodcd = b.prodcd and a.corpno = b.corpno]]></str>
            <where type="Where">
                <and type="And">
                    <if test="plstad!=null&amp;&amp;plstad!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.opendt >=#plstad#]]></str>
                    </if>
                    <if test="ploved!=null&amp;&amp;ploved!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.opendt <=#ploved#]]></str>
                    </if>
                    <if test="corpno!=null&amp;&amp;corpno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.corpno = #corpno#]]></str>
                    </if>
                    <if test="prodcd!=null&amp;&amp;prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.prodcd =#prodcd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[group by  a.prodcd, a.corpno]]></str>
            <str type="Str"><![CDATA[order by  a.prodcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select a.prodcd,b.prodtx,count(a.prodcd) fenshu,sum(a.onlnbl) totamt from (
select corpno, prodcd,onlnbl,opendt from kna_acct 
union all
select corpno, prodcd,onlnbl,opendt  from kna_fxac 
 ) a LEFT JOIN
(select * from kup_dppb) b on a.prodcd = b.prodcd and a.corpno = b.corpno]]></str>
            <where type="Where">
                <and type="And">
                    <if test="plstad!=null&amp;&amp;plstad!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.opendt >=#plstad#]]></str>
                    </if>
                    <if test="ploved!=null&amp;&amp;ploved!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.opendt <=#ploved#]]></str>
                    </if>
                    <if test="corpno!=null&amp;&amp;corpno!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.corpno = #corpno#]]></str>
                    </if>
                    <if test="prodcd!=null&amp;&amp;prodcd!=&quot;&quot;" type="If">
                        <str type="Str"><![CDATA[a.prodcd =#prodcd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[group by  a.prodcd, a.corpno]]></str>
            <str type="Str"><![CDATA[order by  a.prodcd]]></str>
        </dynamicSql>
    </dynamicSelect>
</sqls>
