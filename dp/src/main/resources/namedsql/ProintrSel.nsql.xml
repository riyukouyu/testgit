<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="ProintrSel" longname="产品利率代码查询" package="cn.sunline.ltts.busi.pb.namedsql.intr" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[产品利率代码SQL]]></description>
    <select cache="none" method="selectAll" type="sql" id="prointrsel" longname="根据产品编码查产品利率代码查询">
        <sql><![CDATA[select prodcd, crcycd, intrtp, inbefg, txbefg, txbebs, tebehz, hutxfg, txbefr, intrcd, inwytp, intrwy, incdtp, lyinwy, inammd, bldyca, inprwy, inadlv, reprwy, fvrbfg, fvrblv, taxecd, isrgdt, lydttp, corpno,  tmstmp
from kup_dppb_intr where prodcd=#prodcd#]]></sql>
        <sql type="oracle"><![CDATA[select *from kup_dppb a  join kup_dppb_sync c on a.prodcd = c.prodcd where c.SYNCST ='0']]></sql>
        <sql type="mysql"><![CDATA[select *from kup_dppb a  join kup_dppb_sync c on a.prodcd = c.prodcd where c.SYNCST ='0']]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbIntr"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="intrcodesel" longname="根据利率代码查产品利率代码查询">
        <sql><![CDATA[select * from kup_dppb_intr where intrcd=#intrcd# and corpno=#corpno#]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_intr where intrcd=#intrcd# and corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_intr where intrcd=#intrcd# and corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="DpDict.Prod.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" longname="利率编号" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbIntr"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="prointrcosel" longname="根据产品编码和利率编号查产品利率代码查询">
        <sql><![CDATA[select prodcd, crcycd, intrtp, inbefg, txbefg, txbebs, tebehz, hutxfg, txbefr, intrcd, inwytp, intrwy, incdtp, lyinwy, inammd, bldyca, inprwy, inadlv, reprwy, fvrbfg, fvrblv, taxecd, isrgdt, lydttp, corpno, tmstmp
 from kup_dppb_intr 
where intrcd=#intrcd# and prodcd=#prodcd#]]></sql>
        <sql type="oracle"><![CDATA[select prodcd, crcycd, intrtp, inbefg, txbefg, txbebs, tebehz, hutxfg, txbefr, intrcd, inwytp, intrwy, incdtp, lyinwy, inammd, bldyca, inprwy, inadlv, reprwy, fvrbfg, fvrblv, taxecd, isrgdt, lydttp, corpno, tmstmp
 from kup_dppb_intr 
where intrcd=#intrcd# and prodcd=#prodcd#]]></sql>
        <sql type="mysql"><![CDATA[select prodcd, crcycd, intrtp, inbefg, txbefg, txbebs, tebehz, hutxfg, txbefr, intrcd, inwytp, intrwy, incdtp, lyinwy, inammd, bldyca, inprwy, inadlv, reprwy, fvrbfg, fvrblv, taxecd, isrgdt, lydttp, corpno, tmstmp
 from kup_dppb_intr 
where intrcd=#intrcd# and prodcd=#prodcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="DpDict.Prod.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" longname="利率编号" parameterType="condition"/>
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbIntr"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="intrcodSelPb" longname="根据利率代码查询利率代码定义总条数">
        <sql type="db2"><![CDATA[select count(1) from kup_intr a where a.intrcd=#intrcd# and a.corpno=#corpno#]]></sql>
        <sql type="oracle"><![CDATA[select count(1) from kup_intr a where a.intrcd=#intrcd# and a.corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[select count(1) from kup_intr a where a.intrcd=#intrcd# and a.corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="intxcodSelPb" longname="根据税率代码查询税率代码定义总条数">
        <sql type="db2"><![CDATA[select count(1) count from kup_intx a where a.intxcd=#intxcd# and a.corpno=#corpno#]]></sql>
        <sql type="oracle"><![CDATA[select count(1) count from kup_intx a where a.intxcd=#intxcd# and a.corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[select count(1) count from kup_intx a where a.intxcd=#intxcd# and a.corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intxcd" ref="PbDict.Intr.intxcd" jdbcType="VARCHAR" javaType="BaseType.U_TXRTNO" mode="in" longname="税率代码" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selDppbByBrch" longname="根据机构号查询产品">
        <sql><![CDATA[select distinct a.prodcd, a.prodtx from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd )
where a.BRCHFG = '1'  or (a.brchfg='2' and b.BRCHNO = #brchno#)]]></sql>
        <sql type="oracle"><![CDATA[select distinct a.prodcd, a.prodtx from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd )
where a.BRCHFG = '1'  or (a.brchfg='2' and b.BRCHNO = #brchno#)]]></sql>
        <sql type="mysql"><![CDATA[select distinct a.prodcd, a.prodtx from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd )
where a.BRCHFG = '1'  or (a.brchfg='2' and b.BRCHNO = #brchno#)]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProdConfType.ProdcdAndna"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selBrchnoIntrcdIncdtp" longname="查询利率代码信息">
        <sql type="db2"><![CDATA[select distinct a.rfircd as intrcd,a.rfirtm as depttm,'1' as incdtp from kup_rfir a where a.INTRST = '1' and corpno = #corpno# group by a.rfircd,a.rfirtm
union all
select distinct b.intrcd as intrcd,b.depttm as depttm,'2' as incdtp from kup_bkir b where b.intrst = '1' and corpno = #corpno# group by b.intrcd,b.depttm
union all
select distinct c.intrcd as intrcd,'' as depttm,'3' as incdtp from kup_rlir c where c.intrst = '1' and corpno = #corpno# group by c.intrcd]]></sql>
        <sql type="oracle"><![CDATA[select distinct a.rfircd as intrcd,a.rfirtm as depttm,'1' as incdtp from kup_rfir a where a.INTRST = '1' and corpno = #corpno# group by a.rfircd,a.rfirtm
union all
select distinct b.intrcd as intrcd,b.depttm as depttm,'2' as incdtp from kup_bkir b where b.intrst = '1' and corpno = #corpno# group by b.intrcd,b.depttm
union all
select distinct c.intrcd as intrcd,'' as depttm,'3' as incdtp from kup_rlir c where c.intrst = '1' and corpno = #corpno# group by c.intrcd]]></sql>
        <sql type="mysql"><![CDATA[select distinct a.rfircd as intrcd,a.rfirtm as depttm,'1' as incdtp from kup_rfir a where a.INTRST = '1' and corpno = #corpno# group by a.rfircd,a.rfirtm
union all
select distinct b.intrcd as intrcd,b.depttm as depttm,'2' as incdtp from kup_bkir b where b.intrst = '1' and corpno = #corpno# group by b.intrcd,b.depttm
union all
select distinct c.intrcd as intrcd,'' as depttm,'3' as incdtp from kup_rlir c where c.intrst = '1' and corpno = #corpno# group by c.intrcd]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoIntrComplexType.IoMaxir"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBrch" longname="通过机构号查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch#
]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null
union all
select distinct nvl(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch#
]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch#
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="upbrch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="上级机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBrchAndProno" longname="通过机构号和产品编号查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and a.prodcd = #prodcd#
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and a.prodcd = #prodcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and a.prodcd = #prodcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and a.prodcd = #prodcd#
union all
select distinct nvl(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and a.prodcd = #prodcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and a.prodcd = #prodcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and a.prodcd = #prodcd#
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and a.prodcd = #prodcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and a.prodcd = #prodcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
            <parameter property="upbrch" jdbcType="VARCHAR" javaType="string" mode="in" longname="上级机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBrchAndProIntr" longname="通过机构号和产品编号利率代码查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and a.prodcd = #prodcd# and c.intrcd = #intrcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all
select distinct nvl(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and a.prodcd = #prodcd# and c.intrcd = #intrcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null and a.prodcd = #prodcd# and c.intrcd = #intrcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and a.prodcd = #prodcd# and c.intrcd = #intrcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" parameterType="condition"/>
            <parameter property="upbrch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="上级机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByProno" longname="通过产品编号查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1'  or a.BRCHFG is null or (a.brchfg='2' and b.BRCHNO = #brchno#) and a.prodcd = #prodcd#
union all
select distinct ifnull(b.BRCHNO,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1'  or a.BRCHFG is null or (a.brchfg='2' and b.BRCHNO = #upbrch#) and a.prodcd = #prodcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1'  or a.BRCHFG is null or (a.brchfg='2' and b.BRCHNO = #brchno#) and a.prodcd = #prodcd#
union all
select distinct nvl(b.BRCHNO,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1'  or a.BRCHFG is null or (a.brchfg='2' and b.BRCHNO = #upbrch#) and a.prodcd = #prodcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1'  or a.BRCHFG is null or (a.brchfg='2' and b.BRCHNO = #brchno#) and a.prodcd = #prodcd#
union all
select distinct ifnull(b.BRCHNO,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1'  or a.BRCHFG is null or (a.brchfg='2' and b.BRCHNO = #upbrch#) and a.prodcd = #prodcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
            <parameter property="upbrch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="上级机构" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByIntrno" longname="通过利率代码查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.BRCHFG = '1'  or a.BRCHFG is null ) or (a.brchfg='2' and b.BRCHNO = #brchno#) and c.intrcd = #intrcd#
union all
select distinct ifnull(b.BRCHNO,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.BRCHFG = '1'  or a.BRCHFG is null) or (a.brchfg='2' and b.BRCHNO = #upbrch#) and c.intrcd = #intrcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.BRCHFG = '1'  or a.BRCHFG is null ) or (a.brchfg='2' and b.BRCHNO = #brchno#) and c.intrcd = #intrcd#
union all
select distinct nvl(b.BRCHNO,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.BRCHFG = '1'  or a.BRCHFG is null) or (a.brchfg='2' and b.BRCHNO = #upbrch#) and c.intrcd = #intrcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.BRCHFG = '1'  or a.BRCHFG is null ) or (a.brchfg='2' and b.BRCHNO = #brchno#) and c.intrcd = #intrcd#
union all
select distinct ifnull(b.BRCHNO,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where (a.BRCHFG = '1'  or a.BRCHFG is null) or (a.brchfg='2' and b.BRCHNO = #upbrch#) and c.intrcd = #intrcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" parameterType="condition"/>
            <parameter property="upbrch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="上级机构" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdIntrByProno" longname="通过产品编号查询所有的产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where a.prodcd = #prodcd# and a.corpno = #corpno#



]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where a.prodcd = #prodcd# and a.corpno = #corpno#



]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where a.prodcd = #prodcd# and a.corpno = #corpno#



]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdIntrByPronoAndIntr" longname="通过产品编号和利率代码查询所有的产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where a.prodcd = #prodcd# and c.intrcd = #intrcd# and a.corpno = #corpno#
]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where a.prodcd = #prodcd# and c.intrcd = #intrcd# and a.corpno = #corpno#
]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where a.prodcd = #prodcd# and c.intrcd = #intrcd# and a.corpno = #corpno#
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdIntrByIntr" longname="通过利率代码查询所有的产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where c.intrcd = #intrcd# and a.corpno = #corpno#

]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where c.intrcd = #intrcd# and a.corpno = #corpno#

]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a 
left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) 
left join kup_intr d on(c.intrcd = d.INTRCD)
where c.intrcd = #intrcd# and a.corpno = #corpno#

]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBrchProv" longname="通过单机构号查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null)  and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null)  and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct nvl(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno#
    	]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null)  and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBrAnProProv" longname="通过单机构号和产品编号查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.brchno,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and a.prodcd = #prodcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null)  and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct nvl(f.brchno,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and a.prodcd = #prodcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBpiProv" longname="通过单机构号和产品编号利率代码查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd# and c.intrcd = #intrcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.brchno,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and a.prodcd = #prodcd# and c.intrcd = #intrcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd# and c.intrcd = #intrcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct nvl(f.brchno,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and a.prodcd = #prodcd# and c.intrcd = #intrcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and a.prodcd = #prodcd# and c.intrcd = #intrcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.brchno,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and a.prodcd = #prodcd# and c.intrcd = #intrcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" parameterType="condition"/>
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdIntrByBrchAndIntr" longname="通过机构号和产品代码查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and c.intrcd = #intrcd#
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and c.intrcd = #intrcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null and c.intrcd = #intrcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and c.intrcd = #intrcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and c.intrcd = #intrcd#
union all
select distinct nvl(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and c.intrcd = #intrcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null and c.intrcd = #intrcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and c.intrcd = #intrcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.BRCHFG = '1' or a.BRCHFG is null and c.intrcd = #intrcd#
union all
select distinct ifnull(b.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.BRCHNO = #brchno# and c.intrcd = #intrcd#
union all 
select distinct #upbrch# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a  left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg = '1' or a.brchfg is null and c.intrcd = #intrcd#
union all
select distinct ifnull(b.brchno,#upbrch#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD)
where a.brchfg='2' and b.brchno = #upbrch# and c.intrcd = #intrcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" parameterType="condition"/>
            <parameter property="upbrch" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="上级机构号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectPageWithCount" type="sql" id="selProdintrByBrchAndIntr" longname="通过单机构和利率代码查询产品利率信息">
        <sql type="db2"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and c.intrcd = #intrcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and c.intrcd = #intrcd#]]></sql>
        <sql type="oracle"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and c.intrcd = #intrcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct nvl(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and c.intrcd = #intrcd#]]></sql>
        <sql type="mysql"><![CDATA[select distinct #brchno# as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(1=1)
where (a.brchfg = '1' or a.brchfg is null) and c.intrcd = #intrcd# and f.brchno = #brchno# and a.corpno = #corpno#
union all
select distinct ifnull(f.BRCHNO,#brchno#) as brchno, a.prodcd, a.prodtx, c.INTRCD,d.INTRNA from kup_dppb a left join kup_dppb_brch b on (a.prodcd = b.prodcd ) left join kup_dppb_intr c on(a.PRODCD = c.PRODCD) left join kup_intr d on(c.intrcd = d.INTRCD) left join kub_brch f on(b.brchno = f.brchno)
where a.brchfg='2' and f.brchno = #brchno# and c.intrcd = #intrcd#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="brchno" ref="PbDict.Brch.brchno" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="机构号" parameterType="condition"/>
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INRTNO" mode="in" parameterType="condition"/>
            <parameter property="corpno" ref="ApDict.Aplt.corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProRateSelOut"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selProdInfoAll" longname="查询产品信息">
        <sql type="db2"><![CDATA[select prodcd,prodtx from kup_dppb where (prodst = '5' or prodst = '4') and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select prodcd,prodtx from kup_dppb where (prodst = '5' or prodst = '4') and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select prodcd,prodtx from kup_dppb where (prodst = '5' or prodst = '4') and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProInfoAll"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selProdInfoByProdno" longname="通过产品编号查询装配产品信息">
        <sql type="db2"><![CDATA[select prodcd,prodtx from kup_dppb where (prodst = '5' or prodst = '4') and prodcd = #prodcd# and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select prodcd,prodtx from kup_dppb where (prodst = '5' or prodst = '4') and prodcd = #prodcd# and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select prodcd,prodtx from kup_dppb where (prodst = '5' or prodst = '4') and prodcd = #prodcd# and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="prodcd" ref="DpDict.Prod.prodcd" jdbcType="VARCHAR" javaType="BaseType.U_PRODCD" mode="in" longname="产品编号" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoProRateSel.ProInfoAll"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selProdIntrByProdno" longname="通过产品号查产品的计息基础">
        <sql type="db2"><![CDATA[select * from kup_dppb_intr a where a.prodcd = #prodcd# and a.crcycd = #crcycd# and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_dppb_intr a where a.prodcd = #prodcd# and a.crcycd = #crcycd# and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_dppb_intr a where a.prodcd = #prodcd# and a.crcycd = #crcycd# and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人号" parameterType="condition"/>
            <parameter property="prodcd" jdbcType="VARCHAR" javaType="BaseType.U_CHAR32" mode="in" longname="产品代码" parameterType="condition"/>
            <parameter property="crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="DpProduct.KupDppbIntr"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selMaxRfirToQD" longname="查询最大基础利率给移动前端">
        <sql type="db2"><![CDATA[select rfircd as intrcd,rfirtm as depttm,(baseir + baseir*flmxsc/100) as intrvl from kup_rfir 
where rfircd=#intrcd# and rfirtm = #depttm#
and intrst = '1' 
and (efctdt < #trantm#||efcttm < #trantm# )
and (inefdt > #trantm#||ineftm > #trantm#  or ((inefdt is null or inefdt = '') and (ineftm is null or ineftm = '')))
and corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select rfircd as intrcd,rfirtm as depttm,(baseir + baseir*flmxsc/100) as intrvl from kup_rfir 
where rfircd=#intrcd# and rfirtm = #depttm#
and intrst = '1' 
and (efctdt < #trantm#||efcttm < #trantm# )
and (inefdt > #trantm#||ineftm > #trantm#  or ((inefdt is null or inefdt = '') and (ineftm is null or ineftm = '')))
and corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select rfircd as intrcd,rfirtm as depttm,(baseir + baseir*flmxsc/100) as intrvl from kup_rfir 
where rfircd=#intrcd# and rfirtm = #depttm#
and intrst = '1' 
and (efctdt < #trantm#||efcttm < #trantm# )
and (inefdt > #trantm#||ineftm > #trantm#  or ((inefdt is null or inefdt = '') and (ineftm is null or ineftm = '')))
and corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantm" jdbcType="VARCHAR" javaType="BaseType.U_DATE22" mode="in" longname="交易时间" parameterType="condition"/>
            <parameter property="depttm" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="存期" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoIntrComplexType.IoMaxir"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selMaxBkirToQD" longname="查询最大的浮动利率给移动前端">
        <sql type="db2"><![CDATA[select a.INTRCD as intrcd,a.DEPTTM,(b.BASEIR + b.BASEIR*b.FLMXSC/100) as intrvl from kup_bkir a,kup_rfir b where a.intrcd=#intrcd# 
and a.DEPTTM = #depttm#
and a.intrst = '1'
and a.RFIRCD = b.RFIRCD and a.RFIRTM = b.RFIRTM and b.INTRST = '1'
and (a.efctdt < #trantm# ||a.efcttm < #trantm#)
and (a.inefdt > #trantm# ||a.ineftm > #trantm#  or ((a.inefdt is null or a.inefdt = '') and (a.ineftm is null or a.ineftm = '')))
and (b.efctdt < #trantm# ||b.efcttm < #trantm#)
and (b.inefdt > #trantm# ||b.ineftm > #trantm#  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and a.corpno = b.corpno and a.corpno = #corpno#]]></sql>
        <sql type="oracle"><![CDATA[select a.INTRCD as intrcd,a.DEPTTM,(b.BASEIR + b.BASEIR*b.FLMXSC/100) as intrvl from kup_bkir a,kup_rfir b where a.intrcd=#intrcd# 
and a.DEPTTM = #depttm#
and a.intrst = '1'
and a.RFIRCD = b.RFIRCD and a.RFIRTM = b.RFIRTM and b.INTRST = '1'
and (a.efctdt < #trantm# ||a.efcttm < #trantm#)
and (a.inefdt > #trantm# ||a.ineftm > #trantm#  or ((a.inefdt is null or a.inefdt = '') and (a.ineftm is null or a.ineftm = '')))
and (b.efctdt < #trantm# ||b.efcttm < #trantm#)
and (b.inefdt > #trantm# ||b.ineftm > #trantm#  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and a.corpno = b.corpno and a.corpno = #corpno#]]></sql>
        <sql type="mysql"><![CDATA[select a.INTRCD as intrcd,a.DEPTTM,(b.BASEIR + b.BASEIR*b.FLMXSC/100) as intrvl from kup_bkir a,kup_rfir b where a.intrcd=#intrcd# 
and a.DEPTTM = #depttm#
and a.intrst = '1'
and a.RFIRCD = b.RFIRCD and a.RFIRTM = b.RFIRTM and b.INTRST = '1'
and (a.efctdt < #trantm# ||a.efcttm < #trantm#)
and (a.inefdt > #trantm# ||a.ineftm > #trantm#  or ((a.inefdt is null or a.inefdt = '') and (a.ineftm is null or a.ineftm = '')))
and (b.efctdt < #trantm# ||b.efcttm < #trantm#)
and (b.inefdt > #trantm# ||b.ineftm > #trantm#  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and a.corpno = b.corpno and a.corpno = #corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantm" jdbcType="VARCHAR" javaType="BaseType.U_DATE22" mode="in" longname="交易时间" parameterType="condition"/>
            <parameter property="depttm" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="存期" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoIntrComplexType.IoMaxir"/>
    </select>
    <select cache="none" method="selectAll" type="sql" id="selRlirInfoByIntrcdAndBrchno" longname="查询分档信息通过机构号和利率代码">
        <sql type="db2"><![CDATA[select * from kup_rlir where intrcd = #intrcd# and intrst = '1' 
and efctdt||efcttm < #trantm#
and (inefdt||ineftm > #trantm#  or ((inefdt is null or inefdt = '') and (ineftm is null or ineftm = '')))
and corpno=#corpno#]]></sql>
        <sql type="oracle"><![CDATA[select * from kup_rlir where intrcd = #intrcd# and intrst = '1' 
and efctdt||efcttm < #trantm#
and (inefdt||ineftm > #trantm#  or ((inefdt is null or inefdt = '') and (ineftm is null or ineftm = '')))
and corpno=#corpno#]]></sql>
        <sql type="mysql"><![CDATA[select * from kup_rlir where intrcd = #intrcd# and intrst = '1' 
and efctdt||efcttm < #trantm#
and (inefdt||ineftm > #trantm#  or ((inefdt is null or inefdt = '') and (ineftm is null or ineftm = '')))
and corpno=#corpno#]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantm" jdbcType="VARCHAR" javaType="BaseType.U_DATE22" mode="in" longname="交易时间" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoIntrComplexType.IoKupRlir"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selRlirIntrToRfirIntr" longname="分档利率关联基础利率查询最大利率值">
        <sql type="db2"><![CDATA[select a.INTRCD as intrcd,(b.BASEIR + b.BASEIR*b.FLMXSC/100) as intrvl from kup_rlir a,kup_rfir b where a.intrcd=#intrcd# 
and a.intrst = '1'
and a.RFIRCD = b.RFIRCD and a.RFIRTM = b.RFIRTM and b.INTRST = '1'
and (b.efctdt < #trantm#||b.efcttm < #trantm#)
and ((b.inefdt < #trantm#||b.ineftm > #trantm#)  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and a.corpno=b.corpno
and a.corpno=#corpno#
]]></sql>
        <sql type="oracle"><![CDATA[select a.INTRCD as intrcd,(b.BASEIR + b.BASEIR*b.FLMXSC/100) as intrvl from kup_rlir a,kup_rfir b where a.intrcd=#intrcd# 
and a.intrst = '1'
and a.RFIRCD = b.RFIRCD and a.RFIRTM = b.RFIRTM and b.INTRST = '1'
and (b.efctdt < #trantm#||b.efcttm < #trantm#)
and ((b.inefdt < #trantm#||b.ineftm > #trantm#)  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and a.corpno=b.corpno
and a.corpno=#corpno#
]]></sql>
        <sql type="mysql"><![CDATA[select a.INTRCD as intrcd,(b.BASEIR + b.BASEIR*b.FLMXSC/100) as intrvl from kup_rlir a,kup_rfir b where a.intrcd=#intrcd# 
and a.intrst = '1'
and a.RFIRCD = b.RFIRCD and a.RFIRTM = b.RFIRTM and b.INTRST = '1'
and (b.efctdt < #trantm#||b.efcttm < #trantm#)
and ((b.inefdt < #trantm#||b.ineftm > #trantm#)  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and a.corpno=b.corpno
and a.corpno=#corpno#
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantm" jdbcType="VARCHAR" javaType="BaseType.U_DATE22" mode="in" longname="交易时间" parameterType="condition"/>
            <parameter property="corpno" jdbcType="VARCHAR" javaType="BaseType.U_CORPNO" mode="in" longname="法人代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoIntrComplexType.IoMaxir"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selRlirIntrToBkirRfir" longname="分档利率关联浮动利率查询基础利率最大值">
        <sql type="db2"><![CDATA[select a.INTRCD as intrcd,a.BRCHNO,(c.BASEIR + c.BASEIR*c.FLMXSC/100) as intrvl from kup_rlir a,kup_bkir b,kup_rfir c where a.intrcd=#intrcd# 
and a.BRCHNO = #rlirbr# and a.intrst = '1'
and b.BRCHNO = #bkirbr# and a.RFIRCD = b.intrcd and a.RFIRTM = b.depttm and b.INTRST = '1'
and c.BRCHNO = #rfirbr# and b.RFIRCD = c.RFIRCD and b.RFIRTM = c.RFIRTM and c.INTRST = '1'
and b.efctdt||b.efcttm < #trantm#
and (b.inefdt||b.ineftm > #trantm#  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and c.efctdt||c.efcttm < #trantm#
and (c.inefdt||c.ineftm > #trantm#  or ((c.inefdt is null or c.inefdt = '') and (c.ineftm is null or c.ineftm = '')))
]]></sql>
        <sql type="oracle"><![CDATA[select a.INTRCD as intrcd,a.BRCHNO,(c.BASEIR + c.BASEIR*c.FLMXSC/100) as intrvl from kup_rlir a,kup_bkir b,kup_rfir c where a.intrcd=#intrcd# 
and a.BRCHNO = #rlirbr# and a.intrst = '1'
and b.BRCHNO = #bkirbr# and a.RFIRCD = b.intrcd and a.RFIRTM = b.depttm and b.INTRST = '1'
and c.BRCHNO = #rfirbr# and b.RFIRCD = c.RFIRCD and b.RFIRTM = c.RFIRTM and c.INTRST = '1'
and b.efctdt||b.efcttm < #trantm#
and (b.inefdt||b.ineftm > #trantm#  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and c.efctdt||c.efcttm < #trantm#
and (c.inefdt||c.ineftm > #trantm#  or ((c.inefdt is null or c.inefdt = '') and (c.ineftm is null or c.ineftm = '')))
]]></sql>
        <sql type="mysql"><![CDATA[select a.INTRCD as intrcd,a.BRCHNO,(c.BASEIR + c.BASEIR*c.FLMXSC/100) as intrvl from kup_rlir a,kup_bkir b,kup_rfir c where a.intrcd=#intrcd# 
and a.BRCHNO = #rlirbr# and a.intrst = '1'
and b.BRCHNO = #bkirbr# and a.RFIRCD = b.intrcd and a.RFIRTM = b.depttm and b.INTRST = '1'
and c.BRCHNO = #rfirbr# and b.RFIRCD = c.RFIRCD and b.RFIRTM = c.RFIRTM and c.INTRST = '1'
and b.efctdt||b.efcttm < #trantm#
and (b.inefdt||b.ineftm > #trantm#  or ((b.inefdt is null or b.inefdt = '') and (b.ineftm is null or b.ineftm = '')))
and c.efctdt||c.efcttm < #trantm#
and (c.inefdt||c.ineftm > #trantm#  or ((c.inefdt is null or c.inefdt = '') and (c.ineftm is null or c.ineftm = '')))
]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="rlirbr" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="分档机构号" parameterType="condition"/>
            <parameter property="bkirbr" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="浮动机构号" parameterType="condition"/>
            <parameter property="rfirbr" jdbcType="VARCHAR" javaType="BaseType.U_BRCHNO" mode="in" longname="基础机构号" parameterType="condition"/>
            <parameter property="intrcd" ref="PbDict.Intr.intrcd" jdbcType="VARCHAR" javaType="BaseType.U_INTRCD" mode="in" longname="利率代码" parameterType="condition"/>
            <parameter property="trantm" jdbcType="VARCHAR" javaType="BaseType.U_DATE22" mode="in" longname="交易时间" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoIntrComplexType.IoMaxir"/>
    </select>
</sqls>
