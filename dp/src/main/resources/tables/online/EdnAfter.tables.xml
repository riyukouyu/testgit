<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<schema xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="EdnAfter" package="cn.sunline.edsp.busi.dp.tables.online" longname="T1代发相关表" classgen="normal" xsi:noNamespaceSchemaLocation="ltts-model.xsd">
    <table id="EdmSettleAccount" name="edm_settle_account" longname="结算单登记簿" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="mntrsq" longname="结算单id" type="PbBaseType.U_TRNSEQ" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="trxndt" longname="交易日期" type="GlBaseType.U_DATE" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="taskid" longname="批量交易批次号" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="orgaid" longname="品牌id" type="BaseType.U_CHAR30" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sbrand" longname="品牌名称" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="prepsq" longname="渠道流水" type="PbBaseType.U_PREPSQ" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="acctid" longname="内部商户号" type="BaseType.U_CHAR25" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="teleno" longname="手机号" type="BaseType.U_CHAR35" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="tmteleno" longname="结算卡预留手机号" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sacdno" longname="收款账户" type="BaseType.U_CHAR80" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="tmsacdno" longname="收款账户" type="BaseType.U_CHAR80" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sabkna" longname="行名" type="BaseType.U_CHAR200" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="bankno" longname="行号" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="pltrsq" longname="防重结算单流水" type="PbBaseType.U_TRNSEQ" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="pltrdt" longname="批量生成时间" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="inmena" longname="内部商户名称" type="BaseType.U_CHAR80" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="acctno" longname="结算账户" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="subsac" longname="子户号" type="BaseType.U_CUACNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="custac" longname="电子账号" type="BaseType.U_CUACNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="cardno" longname="客户账号" type="BaseType.U_CARDNO" ref="DpDict.Acct.cardno" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="puacfg" longname="是否对公对私" type="JfDpEnumType.E_CUSTTP" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="tranam" longname="刷卡总金额" type="BaseType.U_TRANAM" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="toanam" longname="商户存入金额" type="BaseType.U_TRANAM" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="trandt" longname="出账日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="transq" longname="出账流水" type="BaseType.U_CHAR50" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="settdt" longname="代发日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="settsq" longname="代发流水" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="servtp" longname="代发通道" type="JfDpEnumType.E_EDMTYP" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="settid" longname="代发ID" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="setqdt" longname="代发清算日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="transt" longname="代发状态" type="JfDpEnumType.E_CUPSST" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="settst" longname="结算状态" type="JfDpEnumType.E_SETTST" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="rtcdtp" longname="应答码码类型" type="BaseType.U_CHAR05" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="rtcode" longname="应答码" type="BaseType.U_CHAR05" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="retmsg" longname="应答描述" type="BaseType.U_CHAR255" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="hashvl" longname="散列值" type="GlBaseType.U_LONG" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb01" type="unique" fields="mntrsq trxndt" operate="selectOne deleteOne updateOne"/>
            <index id="odb02" type="index" fields="pltrsq pltrdt" operate="selectAll update"/>
            <index id="odb03" type="unique" fields="settdt settsq" operate="selectOne deleteOne updateOne"/>
        </odbindexes>
        <indexes>
            <index id="edmSettleAccountUk01" type="unique" fields="mntrsq trxndt corpno">
                <ddls/>
            </index>
            <index id="edmSettleAccountUk02" type="index" fields="acctno trxndt corpno">
                <ddls/>
            </index>
            <index id="edmSettleAccountUk03" type="index" fields="settsq">
                <ddls/>
            </index>
            <index id="edmSettleAccountUk04" type="index" fields="pltrsq pltrdt corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="EdmSettleAccountContro" name="edm_settle_account_contro" longname="结算单防重控制表" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="mntrsq" longname="交易流水" type="PbBaseType.U_TRNSEQ" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true"/>
            <field id="trandt" longname="交易日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true" multi="false"/>
            <field id="brchno" longname="机构号" type="BaseType.U_BRCHNO" ref="BaseDict.Comm.brchno" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true" multi="false"/>
            <field id="setkid" longname="结算批量交易批次号" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="setrdt" longname="结算单生成日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sutkid" longname="代发批量交易批次号" type="BaseType.U_CHAR40" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sutrdt" longname="代发处理日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="transt" longname="处理状态" type="JfDpEnumType.E_GENSTA" primarykey="false" final="false" nullable="false" identity="false" allowSubType="true" multi="false"/>
            <field id="totanm" longname="总笔数" type="BaseType.U_LONGIN" ref="BaseDict.Comm.totanm" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="totlam" longname="总金额" type="PbBaseType.U_DEC212" ref="PbDict.Intr.totlam" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="succam" longname="成功金额" type="PbBaseType.U_DEC212" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="succnm" longname="成功笔数" type="BaseType.U_LONGIN" ref="BaseDict.Comm.succnm" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="seusid" longname="结算柜员" type="BaseType.U_USERID" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="setitm" longname="结算时间戳" type="ApBaseType.U_TMSTMP" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="sutitm" longname="代发柜员" type="BaseType.U_USERID" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="suusid" longname="代发时间戳" type="ApBaseType.U_TMSTMP" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="estack" longname="异常堆栈" type="BaseType.U_CHAR1000" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="odb01" type="unique" fields="mntrsq trandt" operate="selectOne updateOne"/>
            <index id="odb02" type="index" fields="transt trandt" operate="selectAll"/>
            <index id="odb03" type="unique" fields="setkid" operate="selectOne deleteOne updateOne selectOneWithLock"/>
        </odbindexes>
        <indexes>
            <index id="EdmSettleAccountControUk01" type="unique" fields="mntrsq trandt corpno">
                <ddls/>
            </index>
            <index id="EdmSettleAccountControUk02" type="index" fields="transt trandt corpno">
                <ddls/>
            </index>
            <index id="EdmSettleAccountControidx03" type="unique" fields="setkid corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
    <table id="knbReceiptSettle" name="knb_receipt_settle" longname="T1收单与结算对应关系登记簿" tableType="ORDINARY" virtual="false" extension="SysCommFieldTable.KapComm" abstract="false">
        <fields>
            <field id="mntrsq" longname="结算流水" type="BaseType.U_SEQUNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="origsq" longname="原收单流水号" type="BaseType.U_SEQUNO" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="origdt" longname="原收单日期" type="BaseType.U_DATE08" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
            <field id="settst" longname="结算状态" type="JfDpEnumType.E_SETTST" primarykey="false" final="false" nullable="true" identity="false" allowSubType="true"/>
        </fields>
        <ddls/>
        <odbindexes>
            <index id="knb_receipt_settle_odx1" type="unique" fields="mntrsq origsq" operate="selectOne deleteOne updateOne selectOneWithLock"/>
            <index id="knb_receipt_settle_odx2" type="index" fields="mntrsq" operate="selectAll update delete"/>
        </odbindexes>
        <indexes>
            <index id="knb_receipt_settle_idx1" type="unique" fields="mntrsq origsq corpno">
                <ddls/>
            </index>
            <index id="knb_receipt_settle_idx2" type="index" fields="mntrsq corpno">
                <ddls/>
            </index>
        </indexes>
    </table>
</schema>
