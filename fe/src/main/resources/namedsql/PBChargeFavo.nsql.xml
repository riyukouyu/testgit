<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="PBChargeFavo" longname="收费优惠处理" package="cn.sunline.ltts.busi.cg.namedsql.charg" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[收费优惠处理]]></description>
    <select cache="none" method="selectPage" type="sql" id="selDistamInfo" longname="获取费用优惠详细信息">
        <sql><![CDATA[
    	select
    	    	trandt,chrgna,clcham as recvam,dircam,distam 
    	from
    	    	kcb_chrg_rgst 
    	where
    	    	distam > 0 and custac = #custac# 
    	    	and trandt >= #bgdate# and trandt <= #endate# 
    	order by
    	    	trandt desc 
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	trandt,chrgna,clcham as recvam,dircam,distam 
    	from
    	    	kcb_chrg_rgst 
    	where
    	    	distam > 0 and custac = #custac# 
    	    	and trandt >= #bgdate# and trandt <= #endate# 
    	order by
    	    	trandt desc 
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	trandt,chrgna,clcham as recvam,dircam,distam 
    	from
    	    	kcb_chrg_rgst 
    	where
    	    	distam > 0 and custac = #custac# 
    	    	and trandt >= #bgdate# and trandt <= #endate# 
    	order by
    	    	trandt desc 
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="custac" jdbcType="VARCHAR" javaType="PbBaseType.U_CUSTAC" mode="in" longname="客户账号" parameterType="condition"/>
            <parameter property="bgdate" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="起始日期" parameterType="condition"/>
            <parameter property="endate" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="截止日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoCgChrg.IoCgDisamtInfo"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selDistamCount" longname="获取费用优惠信息汇总信息">
        <sql><![CDATA[
    	select
    	    	count(*) as count, sum(distam) as disamt 
    	from
    	    	kcb_chrg_rgst 
    	where
    	    	distam > 0 and custac = #custac# 
    	    	and trandt >= #bgdate# and trandt <= #endate#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	count(*) as count, sum(distam) as disamt 
    	from
    	    	kcb_chrg_rgst 
    	where
    	    	distam > 0 and custac = #custac# 
    	    	and trandt >= #bgdate# and trandt <= #endate#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	count(*) as count, sum(distam) as disamt 
    	from
    	    	kcb_chrg_rgst 
    	where
    	    	distam > 0 and custac = #custac# 
    	    	and trandt >= #bgdate# and trandt <= #endate#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="custac" jdbcType="VARCHAR" javaType="PbBaseType.U_CUSTAC" mode="in" longname="客户账号" parameterType="condition"/>
            <parameter property="bgdate" jdbcType="VARCHAR" javaType="BaseType.U_DATE08" mode="in" longname="起始日期" parameterType="condition"/>
            <parameter property="endate" jdbcType="VARCHAR" javaType="BaseType.U_CHAR08" mode="in" longname="截止日期" parameterType="condition"/>
        </parameterMap>
        <resultMap class="java.util.Map">
            <result property="count" javaType="BaseType.U_INTEGE" jdbcType="INTEGER" column="count" longname="历史优惠总笔数"/>
            <result property="disamt" javaType="PbBaseType.U_TRANAM" jdbcType="DECIMAL" column="disamt" longname="历史优惠总金额"/>
        </resultMap>
    </select>
</sqls>
