<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="FeCode" longname="费种代码处理" package="cn.sunline.ltts.busi.fe.namedsql" xsi:noNamespaceSchemaLocation="ltts-model.xsd">
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selcnt_kcp_chrg" longname="费种代码定义表查询记录数">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="crcycd" ref="FeDict.Chrg.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="货币代号" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="crcycd!=null and crcycd!='CNY'" type="If">
                        <str type="Str"><![CDATA[crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="crcycd!=null and crcycd!='CNY'" type="If">
                        <str type="Str"><![CDATA[crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql>
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="crcycd!=null and crcycd!='CNY'" type="If">
                        <str type="Str"><![CDATA[crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selcnt_kcp_chrg_prcs" longname="费种代码与交易关系对应表查询记录数">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="ouprcs" ref="FeDict.Chrg.ouprcs" jdbcType="VARCHAR" javaType="FeBaseType.U_PRCSCD" mode="in" longname="外部处理码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg_prcs u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="ouprcs!=null and ouprcs!=''" type="If">
                        <str type="Str"><![CDATA[ouprcs=#ouprcs#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg_prcs u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="ouprcs!=null and ouprcs!=''" type="If">
                        <str type="Str"><![CDATA[ouprcs=#ouprcs#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg_prcs u]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="ouprcs!=null and ouprcs!=''" type="If">
                        <str type="Str"><![CDATA[ouprcs=#ouprcs#]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selall_kcp_chrg" longname="费种代码定义表查询">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="chrgna" ref="FeDict.Chrg.chrgna" jdbcType="VARCHAR" javaType="BaseType.U_CHAR80" mode="in" longname="费种代码名称" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
            <parameter property="fetype" jdbcType="VARCHAR" javaType="FeEnumType.E_FETYPE" mode="in" longname="费种大类" parameterType="condition"/>
            <parameter property="cgpyrv" ref="FeDict.Chrg.cgpyrv" jdbcType="VARCHAR" javaType="FeEnumType.E_CGPYRV" mode="in" longname="费用收付标志" parameterType="condition"/>
        </parameterMap>
        <resultMap class="FeConfigTranType.CgKcpChrg"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select a.* from kcp_chrg a]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd like CONCAT('%', #chrgcd#, '%')]]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[chrgna like CONCAT('%',#chrgna#,'%')]]></str>
                    </if>
                    <if test="fetype!=null " type="If">
                        <str type="Str"><![CDATA[fetype=#fetype#]]></str>
                    </if>
                    <if test="cgpyrv!=null " type="If">
                        <str type="Str"><![CDATA[cgpyrv=#cgpyrv#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by chrgcd]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select a.* from kcp_chrg a]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd like '%' || #chrgcd# || '%']]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[chrgna like '%' || #chrgna# || '%']]></str>
                    </if>
                    <if test="fetype!=null " type="If">
                        <str type="Str"><![CDATA[fetype=#fetype#]]></str>
                    </if>
                    <if test="cgpyrv!=null " type="If">
                        <str type="Str"><![CDATA[cgpyrv=#cgpyrv#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by chrgcd]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select a.* from kcp_chrg a]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[chrgcd like CONCAT('%', #chrgcd#, '%')]]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[chrgna like CONCAT('%',#chrgna#,'%')]]></str>
                    </if>
                    <if test="fetype!=null " type="If">
                        <str type="Str"><![CDATA[fetype=#fetype#]]></str>
                    </if>
                    <if test="cgpyrv!=null " type="If">
                        <str type="Str"><![CDATA[cgpyrv=#cgpyrv#]]></str>
                    </if>
                    <if test="crcycd!=null" type="If">
                        <str type="Str"><![CDATA[crcycd=#crcycd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by chrgcd]]></str>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectFirst" type="sql" id="selcnt_kcp_chrg_subj" longname="费种代码核算属性查询记录数">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="chrgna" ref="FeDict.Chrg.chrgna" jdbcType="VARCHAR" javaType="BaseType.U_CHAR80" mode="in" longname="费种代码名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="long"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg_subj a left join kcp_chrg b on a.chrgcd = b.chrgcd left join kcp_scev_detl c on a.scencd = c.scencd]]></str>
            <where type="Where">
                <and type="And">
                    <if test="a.chrgcd!=null and a.chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[b.chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="b.chrgna!=null and b.chrgna!=''" type="If">
                        <str type="Str"><![CDATA[chrgna like CONCAT('%',#chrgna#,'%')]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg_subj a left join kcp_chrg b on a.chrgcd = b.chrgcd left join kcp_scev_detl c on a.scencd = c.scencd]]></str>
            <where type="Where">
                <and type="And">
                    <if test="a.chrgcd!=null and a.chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[b.chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="b.chrgna!=null and b.chrgna!=''" type="If">
                        <str type="Str"><![CDATA[chrgna like '%' || #chrgna# || '%']]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select count(*) as count from kcp_chrg_subj a left join kcp_chrg b on a.chrgcd = b.chrgcd left join kcp_scev_detl c on a.scencd = c.scencd]]></str>
            <where type="Where">
                <and type="And">
                    <if test="a.chrgcd!=null and a.chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[b.chrgcd=#chrgcd#]]></str>
                    </if>
                    <if test="b.chrgna!=null and b.chrgna!=''" type="If">
                        <str type="Str"><![CDATA[chrgna like CONCAT('%',#chrgna#,'%')]]></str>
                    </if>
                </and>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selall_kcp_chrg_subj" longname="费种代码核算属性查询">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="chrgna" ref="FeDict.Chrg.chrgna" jdbcType="VARCHAR" javaType="BaseType.U_CHAR80" mode="in" longname="费种代码名称" parameterType="condition"/>
            <parameter property="scencd" ref="FeDict.Chrg.scencd" jdbcType="VARCHAR" javaType="FeBaseType.U_SCENCD" mode="in" longname="场景代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoFeChrgComplexType.IoCgCaab"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select a.chrgcd as chrgcd , a.scencd as scencd, a.acclev as acclev, a.intacc as intacc, a.prmark as prmark, a.trinfo as trinfo, a.pronum as pronum, a.subnum as subnum, c.scends as scends, b.chrgna as chrgna from kcp_chrg_subj a 
            left join (select DISTINCT(scencd), scends  from  kcp_scev_detl) c on a.scencd = c.scencd left join kcp_chrg b on a.chrgcd = b.chrgcd]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgcd like CONCAT('%' ,#chrgcd# ,'%')]]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[b.chrgna like CONCAT('%' , #chrgna# ,'%')]]></str>
                    </if>
                    <if test="scencd!=null and scencd!='' and scencd!=''" type="If">
                        <str type="Str"><![CDATA[a.scencd like CONCAT('%' , #scencd# ,'%')]]></str>
                    </if>
                    <if test="scencd=''" type="If">
                        <str type="Str"><![CDATA[a.scencd = #scencd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by a.chrgcd,a.scencd desc]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select a.chrgcd as chrgcd , a.scencd as scencd, a.acclev as acclev, a.intacc as intacc, a.prmark as prmark, a.trinfo as trinfo, a.pronum as pronum, a.subnum as subnum, c.scends as scends, b.chrgna as chrgna from kcp_chrg_subj a 
            left join (select DISTINCT(scencd), scends  from  kcp_scev_detl) c on a.scencd = c.scencd left join kcp_chrg b on a.chrgcd = b.chrgcd]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgcd like '%' || #chrgcd# || '%']]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[b.chrgna like '%' || #chrgna# || '%']]></str>
                    </if>
                    <if test="scencd!=null and scencd!='' and scencd!=''" type="If">
                        <str type="Str"><![CDATA[a.scencd like '%' || #scencd# || '%')]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by a.chrgcd,a.scencd desc]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select a.chrgcd as chrgcd , a.scencd as scencd, a.acclev as acclev, a.intacc as intacc, a.prmark as prmark, a.trinfo as trinfo, a.pronum as pronum, a.subnum as subnum, c.scends as scends, b.chrgna as chrgna from kcp_chrg_subj a 
            left join (select DISTINCT(scencd), scends  from  kcp_scev_detl) c on a.scencd = c.scencd left join kcp_chrg b on a.chrgcd = b.chrgcd]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgcd like CONCAT('%' ,#chrgcd# ,'%')]]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[b.chrgna like CONCAT('%' , #chrgna# ,'%')]]></str>
                    </if>
                    <if test="scencd!=null and scencd!='' and scencd!=''" type="If">
                        <str type="Str"><![CDATA[a.scencd like CONCAT('%' , #scencd# ,'%')]]></str>
                    </if>
                    <if test="scencd=''" type="If">
                        <str type="Str"><![CDATA[a.scencd = #scencd#]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by a.chrgcd,a.scencd desc]]></str>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectAll" type="sql" id="selall_kcp_chrg_na" longname="费种代码名称查询">
        <sql><![CDATA[
    	select
    	    	* 
    	from
    	    	kcp_chrg 
    	where
    	    	chrgna = #chrgna#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	* 
    	from
    	    	kcp_chrg 
    	where
    	    	chrgna = #chrgna#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	* 
    	from
    	    	kcp_chrg 
    	where
    	    	chrgna = #chrgna#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="chrgna" ref="FeDict.Chrg.chrgna" jdbcType="VARCHAR" javaType="BaseType.U_CHAR80" mode="in" longname="费种代码名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="FeTable.KcpChrg"/>
    </select>
    <dynamicSelect cache="none" method="selectOne" type="sql" id="selone_kcp_chrg" longname="费种代码单记录查询">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="FeTable.KcpChrg"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select * from kcp_chrg ]]></str>
            <where type="Where">
                <if test="chrgcd != null and chrgcd != ''" type="If">
                    <str type="Str"><![CDATA[chrgcd = #chrgcd#]]></str>
                </if>
            </where>
        </dynamicSql>
        <dynamicSql type="oracle">
            <str type="Str"><![CDATA[select * from kcp_chrg ]]></str>
            <where type="Where">
                <if test="chrgcd != null and chrgcd != ''" type="If">
                    <str type="Str"><![CDATA[chrgcd = #chrgcd#]]></str>
                </if>
            </where>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select * from kcp_chrg ]]></str>
            <where type="Where">
                <if test="chrgcd != null and chrgcd != ''" type="If">
                    <str type="Str"><![CDATA[chrgcd = #chrgcd#]]></str>
                </if>
            </where>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectOne" type="sql" id="selall_kcp_chrg_code" longname="费种代码查询">
        <sql><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg a 
    	where
    	    	a.chrgcd =#chrgcd# and a.crcycd = 'CNY'
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg a 
    	where
    	    	a.chrgcd =#chrgcd# and a.crcycd = 'CNY'
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg a 
    	where
    	    	a.chrgcd =#chrgcd# and a.crcycd = 'CNY'
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="FeTable.KcpChrg"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selone_kcp_chrg_subj" longname="查询费种代码核算属性">
        <sql><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg_subj a 
    	where
    	    	a.chrgcd =#chrgcd# and a.scencd =#scencd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg_subj a 
    	where
    	    	a.chrgcd =#chrgcd# and a.scencd =#scencd#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg_subj a 
    	where
    	    	a.chrgcd =#chrgcd# and a.scencd =#scencd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="scencd" ref="FeDict.Chrg.scencd" jdbcType="VARCHAR" javaType="FeBaseType.U_SCENCD" mode="in" longname="场景代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="FeTable.KcpChrgSubj"/>
    </select>
    <select cache="none" method="selectOne" type="sql" id="selChrgByChrg" longname="费种代码查询">
        <sql><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg a 
    	where
    	    	a.chrgcd =#chrgcd# and a.crcycd = #crcycd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg a 
    	where
    	    	a.chrgcd =#chrgcd# and a.crcycd = #crcycd#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	a.* 
    	from
    	    	kcp_chrg a 
    	where
    	    	a.chrgcd =#chrgcd# and a.crcycd = #crcycd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="FeDict.Chrg.chrgcd" jdbcType="VARCHAR" javaType="FeBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="crcycd" ref="BaseDict.Comm.crcycd" jdbcType="VARCHAR" javaType="BaseType.U_CRCYCD" mode="in" longname="币种" parameterType="condition"/>
        </parameterMap>
        <resultMap class="FeTable.KcpChrg"/>
    </select>
</sqls>
