<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<sqls id="PBChargeCode" longname="收费代码解析表" package="cn.sunline.ltts.busi.cg.namedsql.charg" xsi:noNamespaceSchemaLocation="ltts-model.xsd" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <description><![CDATA[收费代码解析表]]></description>
    <dynamicSelect cache="none" method="selectPageWithCount" type="sql" id="selChargeAccRule" longname="费种核算规则查询">
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" jdbcType="VARCHAR" javaType="PbBaseType.U_CHRGCD" mode="in" longname="费种代码" parameterType="condition"/>
            <parameter property="chrgna" jdbcType="VARCHAR" javaType="BaseType.U_CHAR80" mode="in" longname="费种代码名称" parameterType="condition"/>
        </parameterMap>
        <resultMap class="IoCgChrg.IoChrgAccRuleInfo"/>
        <dynamicSql>
            <str type="Str"><![CDATA[select a.* from kcp_chrg_acrl a ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgcd like concat('%',#chrgcd#,'%')]]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgna like concat('%', #chrgna# ,'%')]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by a.tmstmp desc ]]></str>
        </dynamicSql>
        <dynamicSql type="oracle">
           <str type="Str"><![CDATA[select a.* from kcp_chrg_acrl a ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgcd like '%' || #chrgcd# || '%']]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgna like '%' || #chrgna# || '%']]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by a.tmstmp desc ]]></str>
        </dynamicSql>
        <dynamicSql type="mysql">
            <str type="Str"><![CDATA[select a.* from kcp_chrg_acrl a ]]></str>
            <where type="Where">
                <and type="And">
                    <if test="chrgcd!=null and chrgcd!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgcd like concat('%',#chrgcd#,'%')]]></str>
                    </if>
                    <if test="chrgna!=null and chrgna!=''" type="If">
                        <str type="Str"><![CDATA[a.chrgna like concat('%', #chrgna# ,'%')]]></str>
                    </if>
                </and>
            </where>
            <str type="Str"><![CDATA[order by a.tmstmp desc ]]></str>
        </dynamicSql>
    </dynamicSelect>
    <select cache="none" method="selectOne" type="sql" id="selChargeAccRuleDetail" longname="查询收费规则明细">
        <sql><![CDATA[
    	select
    	    	* 
    	from
    	    	kcp_chrg_acrl 
    	where
    	    	chrgcd =#chrgcd#
    	]]></sql>
        <sql type="oracle"><![CDATA[
    	select
    	    	* 
    	from
    	    	kcp_chrg_acrl 
    	where
    	    	chrgcd =#chrgcd#
    	]]></sql>
        <sql type="mysql"><![CDATA[
    	select
    	    	* 
    	from
    	    	kcp_chrg_acrl 
    	where
    	    	chrgcd =#chrgcd#
    	]]></sql>
        <parameterMap class="java.util.Map">
            <parameter property="chrgcd" ref="PbDict.Charge.chrgcd" jdbcType="VARCHAR" javaType="PbBaseType.U_CHRGCD" mode="in" longname="收费代码" parameterType="condition"/>
        </parameterMap>
        <resultMap class="PBCharge.KcpChrgAcrl"/>
    </select>
</sqls>
